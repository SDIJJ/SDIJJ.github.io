<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="baidu-site-verification" content="L6Lm9d5Crl"/>
  
  
  
  
  <title>楠の博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="记录学习的技能和遇到的问题(PS:记录的晚了点!)">
<meta property="og:type" content="website">
<meta property="og:title" content="楠の博客">
<meta property="og:url" content="https://github.com/SDIJJ/sdijj.github.io/index.html">
<meta property="og:site_name" content="楠の博客">
<meta property="og:description" content="记录学习的技能和遇到的问题(PS:记录的晚了点!)">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="楠の博客">
<meta name="twitter:description" content="记录学习的技能和遇到的问题(PS:记录的晚了点!)">
  
    <link rel="alternative" href="/atom.xml" title="楠の博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.png">
  
  
  <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
    
    
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <!-- 加载特效 -->
    <script src="/js/pace.js"></script>
    <link href="/css/pace/pace-theme-flash.css" rel="stylesheet" />
  <script>
      var yiliaConfig = {
          fancybox: true,
          animate: true,
          isHome: true,
          isPost: false,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false
      }
  </script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        
<script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>

        <a href="/" class="profilepic">
            
            <img lazy-src="/img/1.png" class="js-avatar">
            
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">Arnold</a></h1>
        </hgroup>
        
        <p class="header-subtitle">敲敲代码,聊聊人生</p>
        
        
            <form>
                <input type="text" class="st-default-search-input search" id="local-search-input" placeholder="搜索一下" autocomplete="off">
            </form>
            <div id="local-search-result"></div>
        
        
            <script type="text/javascript">
                (function() {
                    'use strict';
                    function getMatchData(keyword, data) {
                        var matchData = [];
                        for(var i =0;i<data.length;i++){
                            if(data[i].title.toLowerCase().indexOf(keyword)>=0) 
                                matchData.push(data[i])
                        }
                        return matchData;
                    }
                    var $input = $('#local-search-input');
                    var $resultContent = $('#local-search-result');
                    $input.keyup(function(){
                        $.ajax({
                            url: '/search.json',
                            dataType: "json",
                            success: function( json ) {
                                var str='<ul class=\"search-result-list\">';                
                                var keyword = $input.val().trim().toLowerCase();
                                $resultContent.innerHTML = "";
                                if ($input.val().trim().length <= 0) {
                                    $resultContent.empty();
                                    $('#switch-area').show();
                                    return;
                                }
                                var results = getMatchData(keyword, json);
                                if(results.length === 0){
                                    $resultContent.empty();
                                    $('#switch-area').show();
                                    return;
                                } 
                                for(var i =0; i<results.length; i++){
                                    str += "<li><a href='"+ results[i].url +"' class='search-result-title'>"+ results[i].title +"</a></li>";
                                }
                                str += "</ul>";
                                $resultContent.empty();
                                $resultContent.append(str);
                                $('#switch-area').hide();
                            }
                        });
                    });
                })();
            </script>
        
        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        
        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a  href="/archives/">所有文章</a></li>
                        
                            <li><a  href="/categories/开发工具/">开发工具</a></li>
                        
                            <li><a  href="/categories/开源框架/">开源框架</a></li>
                        
                            <li><a  href="/categories/项目总结/">项目总结</a></li>
                        
                            <li><a  href="/categories/算法学习/">算法学习</a></li>
                        
                            <li><a  href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fl github"  target="_blank" href="https://github.com/SDIJJ" title="github">github</a>
                            
                                <a class="fl weibo"  target="_blank" href="https://weibo.com/6204498677/info" title="weibo">weibo</a>
                            
                                <a class="fl rss"  target="_blank" href="/atom.xml" title="rss">rss</a>
                            
                        </ul>
                    </nav>
                </section>
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/MySql/" style="font-size: 10px;">MySql</a> <a href="/tags/Oracle/" style="font-size: 10px;">Oracle</a> <a href="/tags/docker/" style="font-size: 10px;">docker</a> <a href="/tags/java/" style="font-size: 20px;">java</a> <a href="/tags/开发工具/" style="font-size: 10px;">开发工具</a> <a href="/tags/算法/" style="font-size: 20px;">算法</a>
                    </div>
                </section>
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://blog.csdn.net/baidu_21483933">csdn</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="https://segmentfault.com/blog/maocg_web">segmentfault</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.jianshu.com/users/eb37ef89c746/latest_articles">简书</a>
                    
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">喜欢编程,喜爱运动,酷爱骑行,热爱数码...</div>
                </section>
                
            </div>
        </div>
    </header>
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">Arnold</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                
                    <img lazy-src="/img/1.png" class="js-avatar">
                
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">Arnold</a></h1>
            </hgroup>
            
            <p class="header-subtitle">敲敲代码,聊聊人生</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/categories/开发工具/">开发工具</a></li>
                
                    <li><a href="/categories/开源框架/">开源框架</a></li>
                
                    <li><a href="/categories/项目总结/">项目总结</a></li>
                
                    <li><a href="/categories/算法学习/">算法学习</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                <div class="social">
                    
                        <a class="github" target="_blank" href="https://github.com/SDIJJ" title="github">github</a>
                    
                        <a class="weibo" target="_blank" href="https://weibo.com/6204498677/info" title="weibo">weibo</a>
                    
                        <a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
                    
                </div>
            </nav>
        </header>
    </div>
</nav>
      <div class="body-wrap">
  
    <article id="post-Oracle学习" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2018/11/11/Oracle学习/" class="article-date">
      <time datetime="2018-11-11T14:35:37.000Z" itemprop="datePublished">2018-11-11</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2018/11/11/Oracle学习/">Oracle学习</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p><strong>无需证明什么,要做的唯有让自己更棒</strong><excerpt in="" index="" |="" 首页摘要=""></excerpt></p>
<h1 id="Oracle学习"><a href="#Oracle学习" class="headerlink" title="Oracle学习"></a>Oracle学习</h1><h2 id="第一天"><a href="#第一天" class="headerlink" title="第一天:"></a>第一天:</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> tab;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">数据库  ---&gt; 数据库实例  ---&gt;  表空间(逻辑单位)(用户)  ---&gt; 数据文件(物理单位)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">地球    ---&gt; 一个国家    ---&gt;  省份(逻辑单位)(公民)    ---&gt; 山川河流(物理单位)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">通常情况下,ORacle数据库只会有一个实例ORCL,</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">新建一个项目:</span></span><br><span class="line"><span class="comment">     MYSQL : 创建一个数据库,创建相应的表</span></span><br><span class="line"><span class="comment">     Oracle: 创建一个表空间,创建用户,用户去创建表</span></span><br><span class="line"><span class="comment">     </span></span><br><span class="line"><span class="comment">Oracle和MYSQL的差别</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Oracle是多用户的, MYSQL是多数据库的</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">1. 遵循SQL标准</span></span><br><span class="line"><span class="comment">2. 不同厂商,不同的数据库产品,但是有自己的方言</span></span><br><span class="line"><span class="comment">3. 使用自己的方言,也能够完成相同的功能</span></span><br><span class="line"><span class="comment">4. Oracle安全级别要高,MYSQL开源免费</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">基本查询:</span></span><br><span class="line"><span class="comment">   SQL : 结构化查询语言</span></span><br><span class="line"><span class="comment">   </span></span><br><span class="line"><span class="comment">   请听题: 请说一下SQL的分类以及每类常见的操作符都有哪些</span></span><br><span class="line"><span class="comment">   四类:</span></span><br><span class="line"><span class="comment">        DDL : 数据定义语言 create alter drop truncate</span></span><br><span class="line"><span class="comment">        DML : 数据操纵语言 insert update delete</span></span><br><span class="line"><span class="comment">        DCL : 数据控制语言 安全 授权 grant revoke</span></span><br><span class="line"><span class="comment">        DQL : 数据查询语言 select from子句 where子句</span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">   查询语句的结构:</span></span><br><span class="line"><span class="comment">   </span></span><br><span class="line"><span class="comment">   select [列名] [*] from 表名 [where 条件] [group by 分组条件] [having 过滤] [order by 排序]</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="number">1</span>+<span class="number">1</span>;  <span class="comment">--在Oracle等于报错 ,在MYSQL中输出结果是2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">     dual : oracle中的虚表 ,伪表, 主要是用来补齐语法结构</span></span><br><span class="line"><span class="comment">     </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">select</span> <span class="number">1</span>+<span class="number">1</span> <span class="keyword">from</span> dual;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> dual;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="number">1</span> <span class="keyword">from</span> emp;</span><br><span class="line"><span class="comment">--直接写一个常量比写 * 要高效</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">count</span>(<span class="number">1</span>) <span class="keyword">from</span> emp;</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">count</span>(*) <span class="keyword">from</span> emp;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">       别名查询: 使用as 关键字, 可以省略</span></span><br><span class="line"><span class="comment">       别名中不能有特殊字符或者关键字, 如果有就加双引号</span></span><br><span class="line"><span class="comment">       </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">select</span> ename 姓名, sal 工资 <span class="keyword">from</span> emp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> ename <span class="string">"姓       名"</span>, sal 工资 <span class="keyword">from</span> emp;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">      去除重复数据 distinct</span></span><br><span class="line"><span class="comment">      多列去除重复: 每一列都一样才能够算作是重复</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">--单列去除重复</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> job <span class="keyword">from</span> emp;</span><br><span class="line"></span><br><span class="line"><span class="comment">--多列去除重复的</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> job,deptno <span class="keyword">from</span> emp;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--查询中四则运算</span></span><br><span class="line"><span class="keyword">select</span> <span class="number">1</span>+<span class="number">1</span> <span class="keyword">from</span> dual;</span><br><span class="line"></span><br><span class="line"><span class="comment">--查询员工年薪  = 月薪* 12</span></span><br><span class="line"><span class="keyword">select</span> sal*<span class="number">12</span> <span class="keyword">from</span> emp;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--查询员工年薪+奖金</span></span><br><span class="line"><span class="keyword">select</span> sal*<span class="number">12</span> + comm <span class="keyword">from</span> emp;</span><br><span class="line"><span class="comment">--nvl 函数 : 如果参数1为null  就返回参数2</span></span><br><span class="line"><span class="keyword">select</span> sal*<span class="number">12</span> + nvl(comm,<span class="number">0</span>) <span class="keyword">from</span> emp;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    注意: null值 , 代表不确定的 不可预知的内容 , 不可以做四则运算</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">字符串拼接:</span></span><br><span class="line"><span class="comment">    java : + 号拼接</span></span><br><span class="line"><span class="comment">    Oracle 特有的连接符: || 拼接</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">    在Oracle 中 ,双引号主要是别名的时候使用, 单引号是使用的值, 是字符</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">    concat(str1,str2) 函数, 在mysql和Oracle中都有</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">--查询员工姓名 :  姓名:SCOTT</span></span><br><span class="line"><span class="keyword">select</span> ename <span class="keyword">from</span> emp;</span><br><span class="line"><span class="comment">--使用拼接符</span></span><br><span class="line"><span class="keyword">select</span> <span class="string">'姓名:'</span> || ename <span class="keyword">from</span> emp;</span><br><span class="line"></span><br><span class="line"><span class="comment">--使用函数拼接</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">concat</span>(<span class="string">'姓名:'</span>,ename) <span class="keyword">from</span> emp;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    条件查询 : [where后面的写法]   </span></span><br><span class="line"><span class="comment">        关系运算符: &gt; &gt;= = &lt; &lt;= != &lt;&gt;</span></span><br><span class="line"><span class="comment">        逻辑运算符: and or not</span></span><br><span class="line"><span class="comment">        其它运算符:</span></span><br><span class="line"><span class="comment">               like 模糊查询</span></span><br><span class="line"><span class="comment">               in(set) 在某个集合内</span></span><br><span class="line"><span class="comment">               between..and.. 在某个区间内</span></span><br><span class="line"><span class="comment">               is null  判断为空</span></span><br><span class="line"><span class="comment">               is not null 判断不为空</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">--查询每月能得到奖金的员工信息</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> comm <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--查询工资在1500--3000之间的员工信息</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> sal <span class="keyword">between</span> <span class="number">1500</span> <span class="keyword">and</span> <span class="number">3000</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> sal &gt;= <span class="number">1500</span> <span class="keyword">and</span> sal &lt;= <span class="number">3000</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--查询名字在某个范围的员工信息 ('JONES','SCOTT','FORD') in</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> ename <span class="keyword">in</span> (<span class="string">'JONES'</span>,<span class="string">'SCOTT'</span>,<span class="string">'FORD'</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    模糊查询: like</span></span><br><span class="line"><span class="comment">        %   匹配多个字符</span></span><br><span class="line"><span class="comment">        _   匹配单个字符</span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">        如果有特殊字符, 需要使用escape转义</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">--查询员工姓名第三个字符是O的员工信息</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> ename <span class="keyword">like</span> <span class="string">'__O%'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--查询员工姓名中,包含%的员工信息</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> ename <span class="keyword">like</span> <span class="string">'%#%%'</span> escape <span class="string">'#'</span>;</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> ename <span class="keyword">like</span> <span class="string">'%\%%'</span> escape <span class="string">'\';</span></span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">       排序 : order by </span></span><br><span class="line"><span class="comment">          升序: asc    ascend</span></span><br><span class="line"><span class="comment">          降序: desc   descend</span></span><br><span class="line"><span class="comment">          </span></span><br><span class="line"><span class="comment">          排序注意null问题 : nulls first | last</span></span><br><span class="line"><span class="comment">          </span></span><br><span class="line"><span class="comment">          同时排列多列, 用逗号隔开</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--查询员工信息,按照奖金由高到低排序</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">order</span> <span class="keyword">by</span> comm <span class="keyword">desc</span> <span class="keyword">nulls</span> <span class="keyword">last</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--查询部门编号和按照工资  按照部门升序排序, 工资降序排序</span></span><br><span class="line"><span class="keyword">select</span> deptno, sal <span class="keyword">from</span> emp <span class="keyword">order</span> <span class="keyword">by</span> deptno <span class="keyword">asc</span>, sal <span class="keyword">desc</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">     函数: 必须要有返回值</span></span><br><span class="line"><span class="comment">     </span></span><br><span class="line"><span class="comment">     单行函数: 对某一行中的某个值进行处理</span></span><br><span class="line"><span class="comment">         数值函数</span></span><br><span class="line"><span class="comment">         字符函数</span></span><br><span class="line"><span class="comment">         日期函数</span></span><br><span class="line"><span class="comment">         转换函数</span></span><br><span class="line"><span class="comment">         通用函数</span></span><br><span class="line"><span class="comment">     </span></span><br><span class="line"><span class="comment">     多行函数: 对某一列的所有行进行处理</span></span><br><span class="line"><span class="comment">           max()  min count sum avg</span></span><br><span class="line"><span class="comment">           </span></span><br><span class="line"><span class="comment">           1.直接忽略空值 </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">--统计员工工资总和</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">sum</span>(sal) <span class="keyword">from</span> emp;</span><br><span class="line"></span><br><span class="line"><span class="comment">--统计员工奖金总和  2200</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">sum</span>(comm) <span class="keyword">from</span> emp;</span><br><span class="line"></span><br><span class="line"><span class="comment">--统计员工人数 14</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">count</span>(<span class="number">1</span>) <span class="keyword">from</span> emp;</span><br><span class="line"></span><br><span class="line"><span class="comment">--统计员工的平均奖金  550  错误    2200/14 =</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">avg</span>(comm) <span class="keyword">from</span> emp;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--统计员工的平均奖金 157.</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">sum</span>(comm)/<span class="keyword">count</span>(<span class="number">1</span>) <span class="keyword">from</span> emp;</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">ceil</span>(<span class="keyword">sum</span>(comm)/<span class="keyword">count</span>(<span class="number">1</span>)) <span class="keyword">from</span> emp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">update</span> emp <span class="keyword">set</span> ename = <span class="string">'TUR%NER'</span> <span class="keyword">where</span> ename = <span class="string">'TURNER'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--数值函数</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">ceil</span>(<span class="number">45.926</span>) <span class="keyword">from</span> dual;  <span class="comment">--46</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">floor</span>(<span class="number">45.926</span>) <span class="keyword">from</span> dual; <span class="comment">--45</span></span><br><span class="line"><span class="comment">--四舍五入</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">round</span>(<span class="number">45.926</span>,<span class="number">2</span>) <span class="keyword">from</span> dual; <span class="comment">--45.93</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">round</span>(<span class="number">45.926</span>,<span class="number">1</span>) <span class="keyword">from</span> dual; <span class="comment">-- 45.9</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">round</span>(<span class="number">45.926</span>,<span class="number">0</span>) <span class="keyword">from</span> dual; <span class="comment">--46</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">round</span>(<span class="number">45.926</span>,<span class="number">-1</span>) <span class="keyword">from</span> dual; <span class="comment">--50</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">round</span>(<span class="number">45.926</span>,<span class="number">-2</span>) <span class="keyword">from</span> dual; <span class="comment">--0</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">round</span>(<span class="number">65.926</span>,<span class="number">-2</span>) <span class="keyword">from</span> dual; <span class="comment">--100</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--截断</span></span><br><span class="line"><span class="keyword">select</span> trunc(<span class="number">45.926</span>,<span class="number">2</span>) <span class="keyword">from</span> dual; <span class="comment">--45.92</span></span><br><span class="line"><span class="keyword">select</span> trunc(<span class="number">45.926</span>,<span class="number">1</span>) <span class="keyword">from</span> dual; <span class="comment">-- 45.9</span></span><br><span class="line"><span class="keyword">select</span> trunc(<span class="number">45.926</span>,<span class="number">0</span>) <span class="keyword">from</span> dual; <span class="comment">--45</span></span><br><span class="line"><span class="keyword">select</span> trunc(<span class="number">45.926</span>,<span class="number">-1</span>) <span class="keyword">from</span> dual; <span class="comment">--40</span></span><br><span class="line"><span class="keyword">select</span> trunc(<span class="number">45.926</span>,<span class="number">-2</span>) <span class="keyword">from</span> dual; <span class="comment">--0</span></span><br><span class="line"><span class="keyword">select</span> trunc(<span class="number">65.926</span>,<span class="number">-2</span>) <span class="keyword">from</span> dual; <span class="comment">--0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--求余</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">mod</span>(<span class="number">9</span>,<span class="number">3</span>) <span class="keyword">from</span> dual; <span class="comment">--0</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">mod</span>(<span class="number">9</span>,<span class="number">4</span>) <span class="keyword">from</span> dual; <span class="comment">--1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--字符函数</span></span><br><span class="line"><span class="comment">-- substr(str1,起始索引,长度) </span></span><br><span class="line"><span class="comment">--注意: 起始索引不管写 0 还是 1 都是从第一个字符开始截取</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">substr</span>(<span class="string">'abcdefg'</span>,<span class="number">0</span>,<span class="number">3</span>) <span class="keyword">from</span> dual; <span class="comment">--abc</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">substr</span>(<span class="string">'abcdefg'</span>,<span class="number">1</span>,<span class="number">3</span>) <span class="keyword">from</span> dual; <span class="comment">--abc</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">substr</span>(<span class="string">'abcdefg'</span>,<span class="number">2</span>,<span class="number">3</span>) <span class="keyword">from</span> dual; <span class="comment">--bcd</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--获取字符串长度 24 28</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">length</span>(<span class="string">'abcdefg'</span>) <span class="keyword">from</span> dual;</span><br><span class="line"></span><br><span class="line"><span class="comment">--去除字符左右两边的空格</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">trim</span>(<span class="string">'  hello  '</span>) <span class="keyword">from</span> dual;</span><br><span class="line"></span><br><span class="line"><span class="comment">--替换字符串</span></span><br><span class="line"><span class="keyword">Select</span> <span class="keyword">replace</span>(<span class="string">'hello'</span>,<span class="string">'l'</span>,<span class="string">'a'</span>) <span class="keyword">from</span> dual;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--日期函数</span></span><br><span class="line"><span class="comment">--查询今天的日期</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">sysdate</span> <span class="keyword">from</span> dual;</span><br><span class="line"><span class="comment">--查询3个月后的今天的日期</span></span><br><span class="line"><span class="keyword">select</span> add_months(<span class="keyword">sysdate</span>,<span class="number">3</span>) <span class="keyword">from</span> dual;</span><br><span class="line"><span class="comment">--查询3天后的日期</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">sysdate</span> + <span class="number">3</span> <span class="keyword">from</span> dual;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--查询员工入职的天数</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">sysdate</span> - hiredate <span class="keyword">from</span>  emp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">ceil</span>(<span class="keyword">sysdate</span> - hiredate) <span class="keyword">from</span>  emp;</span><br><span class="line"></span><br><span class="line"><span class="comment">--查询员工入职的周数</span></span><br><span class="line"><span class="keyword">select</span> (<span class="keyword">sysdate</span> - hiredate)/<span class="number">7</span> <span class="keyword">from</span> emp;</span><br><span class="line"></span><br><span class="line"><span class="comment">--查询员工入职的月数</span></span><br><span class="line"><span class="keyword">select</span> months_between(<span class="keyword">sysdate</span>,hiredate) <span class="keyword">from</span> emp;</span><br><span class="line"></span><br><span class="line"><span class="comment">--查询员工入职的年份</span></span><br><span class="line"><span class="keyword">select</span> months_between(<span class="keyword">sysdate</span>,hiredate)/<span class="number">12</span> <span class="keyword">from</span> emp;</span><br><span class="line"></span><br><span class="line"><span class="comment">--转换函数  数值转字符 字符转数值  日期</span></span><br><span class="line"><span class="comment">--字符转数值 to_number(str) 鸡肋</span></span><br><span class="line"><span class="keyword">select</span> <span class="number">100</span>+<span class="string">'10'</span> <span class="keyword">from</span> dual;  <span class="comment">--110  默认已经帮我们转换</span></span><br><span class="line"><span class="keyword">select</span> <span class="number">100</span> + to_number(<span class="string">'10'</span>) <span class="keyword">from</span> dual; <span class="comment">--110</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--数值转字符</span></span><br><span class="line"><span class="keyword">select</span> to_char(sal,<span class="string">'$9,999.99'</span>) <span class="keyword">from</span> emp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> to_char(sal,<span class="string">'L9,999.99'</span>) <span class="keyword">from</span> emp;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">to_char(1210.73, '9999.9') 返回 '1210.7' </span></span><br><span class="line"><span class="comment">to_char(1210.73, '9,999.99') 返回 '1,210.73' </span></span><br><span class="line"><span class="comment">to_char(1210.73, '$9,999.00') 返回 '$1,210.73' </span></span><br><span class="line"><span class="comment">to_char(21, '000099') 返回 '000021' </span></span><br><span class="line"><span class="comment">to_char(852,'xxxx') 返回' 354'</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--日期转字符 to_char()  </span></span><br><span class="line"><span class="keyword">select</span> to_char(<span class="keyword">sysdate</span>,<span class="string">'yyyy-mm-dd hh:mi:ss'</span>) <span class="keyword">from</span> dual;</span><br><span class="line"><span class="keyword">select</span> to_char(<span class="keyword">sysdate</span>,<span class="string">'yyyy-mm-dd hh24:mi:ss'</span>) <span class="keyword">from</span> dual;</span><br><span class="line"><span class="comment">--只想要年</span></span><br><span class="line"><span class="keyword">select</span> to_char(<span class="keyword">sysdate</span>,<span class="string">'yyyy'</span>) <span class="keyword">from</span> dual;  <span class="comment">--2017</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--只想要日</span></span><br><span class="line"><span class="keyword">select</span> to_char(<span class="keyword">sysdate</span>,<span class="string">'d'</span>) <span class="keyword">from</span> dual; <span class="comment">--2  代表一个星期中第几天</span></span><br><span class="line"><span class="keyword">select</span> to_char(<span class="keyword">sysdate</span>,<span class="string">'dd'</span>) <span class="keyword">from</span> dual;  <span class="comment">--10  代表一个月中的第几天</span></span><br><span class="line"><span class="keyword">select</span> to_char(<span class="keyword">sysdate</span>,<span class="string">'ddd'</span>) <span class="keyword">from</span> dual; <span class="comment">--100 代表一年中的第几天</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> to_char(<span class="keyword">sysdate</span>,<span class="string">'day'</span>) <span class="keyword">from</span> dual;  <span class="comment">--monday</span></span><br><span class="line"><span class="keyword">select</span> to_char(<span class="keyword">sysdate</span>,<span class="string">'dy'</span>) <span class="keyword">from</span> dual;   <span class="comment">--mon  星期的简写</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--字符转日期</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">to_date</span>(<span class="string">'2017-04-10'</span>,<span class="string">'yyyy-mm-dd'</span>) <span class="keyword">from</span> dual;</span><br><span class="line"></span><br><span class="line"><span class="comment">--查询1981年 -- 1985年入职的员工信息</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> hiredate <span class="keyword">between</span> <span class="keyword">to_date</span>(<span class="string">'1981'</span>,<span class="string">'yyyy'</span>) <span class="keyword">and</span> <span class="keyword">to_date</span>(<span class="string">'1985'</span>,<span class="string">'yyyy'</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">      通用函数:</span></span><br><span class="line"><span class="comment">       nvl(参数1,参数2) 如果参数1 = null 就返回参数2</span></span><br><span class="line"><span class="comment">       nvl2(参数1,参数2,参数3) 如果参数1 = null ,就返回参数3, 否则返回参数2</span></span><br><span class="line"><span class="comment">       </span></span><br><span class="line"><span class="comment">       nullif(参数1,参数2) 如果参数1 = 参数2 那么就返回 null , 否则返回参数1</span></span><br><span class="line"><span class="comment">       </span></span><br><span class="line"><span class="comment">       coalesce: 返回第一个不为null的值</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">select</span> nvl2(<span class="literal">null</span>,<span class="number">5</span>,<span class="number">6</span>) <span class="keyword">from</span> dual; <span class="comment">--6;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> nvl2(<span class="number">1</span>,<span class="number">5</span>,<span class="number">6</span>) <span class="keyword">from</span> dual; <span class="comment">--5;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">nullif</span>(<span class="number">5</span>,<span class="number">6</span>) <span class="keyword">from</span> dual; <span class="comment">--5</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">nullif</span>(<span class="number">6</span>,<span class="number">6</span>) <span class="keyword">from</span> dual; <span class="comment">--null</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">coalesce</span>(<span class="literal">null</span>,<span class="literal">null</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>) <span class="keyword">from</span> dual;  <span class="comment">--3</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">ceil</span>(<span class="number">-12.5</span>) <span class="keyword">from</span> dual; <span class="comment">--12</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">floor</span>(<span class="number">12.5</span>) <span class="keyword">from</span> dual; <span class="comment">--12</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="string">'  hello  '</span> <span class="keyword">from</span> dual;</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure>
<h2 id="第二天"><a href="#第二天" class="headerlink" title="第二天:"></a>第二天:</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> bonus;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> salgrade;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">     多表查询:</span></span><br><span class="line"><span class="comment">       笛卡尔积: 实际上是两张表的乘积,但是在实际开发中没有太大意义</span></span><br><span class="line"><span class="comment">      </span></span><br><span class="line"><span class="comment">     格式: select * from 表1,表2   </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp;</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> dept;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp, dept;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp e1, dept d1 <span class="keyword">where</span> e1.deptno = d1.deptno;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">     内联接:</span></span><br><span class="line"><span class="comment">       隐式内联接: </span></span><br><span class="line"><span class="comment">           等值内联接:   where e1.deptno = d1.deptno;</span></span><br><span class="line"><span class="comment">           不等值内联接:  where e1.deptno &lt;&gt; d1.deptno;</span></span><br><span class="line"><span class="comment">           自联接: 自己连接自己</span></span><br><span class="line"><span class="comment">       显示内联接:</span></span><br><span class="line"><span class="comment">           select * from 表1 inner join 表2 on 连接条件</span></span><br><span class="line"><span class="comment">           </span></span><br><span class="line"><span class="comment">           inner 关键字可以省略</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp e1, dept d1 <span class="keyword">where</span> e1.deptno &lt;&gt; d1.deptno;</span><br><span class="line"></span><br><span class="line"><span class="comment">--查询员工编号,员工姓名,经理的编号,经理的姓名</span></span><br><span class="line"><span class="keyword">select</span> e1.empno,e1.ename,e1.mgr,m1.ename</span><br><span class="line"><span class="keyword">from</span> emp e1, emp m1 <span class="keyword">where</span> e1.mgr= m1.empno;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--查询员工编号,员工姓名,员工的部门名称,经理的编号,经理的姓名</span></span><br><span class="line"><span class="keyword">select</span> e1.empno,e1.ename,d1.dname,e1.mgr,m1.ename</span><br><span class="line"><span class="keyword">from</span> emp e1, emp m1,dept d1 <span class="keyword">where</span> e1.mgr= m1.empno <span class="keyword">and</span> e1.deptno = d1.deptno;</span><br><span class="line"></span><br><span class="line"><span class="comment">--查询员工编号,员工姓名,员工的部门名称,经理的编号,经理的姓名,经理的部门名称</span></span><br><span class="line"><span class="keyword">select</span> e1.empno,e1.ename,d1.dname,e1.mgr,m1.ename,d2.dname</span><br><span class="line"><span class="keyword">from</span> emp e1, emp m1,dept d1,dept d2 </span><br><span class="line"><span class="keyword">where</span> </span><br><span class="line">     e1.mgr= m1.empno </span><br><span class="line"> <span class="keyword">and</span> e1.deptno = d1.deptno</span><br><span class="line"> <span class="keyword">and</span> m1.deptno = d2.deptno </span><br><span class="line">;</span><br><span class="line"></span><br><span class="line"><span class="comment">--查询员工编号,员工姓名,员工的部门名称,员工的工资等级,经理的编号,经理的姓名,经理的部门名称</span></span><br><span class="line"><span class="keyword">select</span> e1.empno,e1.ename,d1.dname,s1.grade,e1.mgr,m1.ename,d2.dname</span><br><span class="line"><span class="keyword">from</span> emp e1, emp m1,dept d1,dept d2,salgrade s1 </span><br><span class="line"><span class="keyword">where</span> </span><br><span class="line">     e1.mgr= m1.empno </span><br><span class="line"> <span class="keyword">and</span> e1.deptno = d1.deptno</span><br><span class="line"> <span class="keyword">and</span> m1.deptno = d2.deptno</span><br><span class="line"> <span class="keyword">and</span> e1.sal <span class="keyword">between</span> s1.losal <span class="keyword">and</span> s1.hisal </span><br><span class="line">;</span><br><span class="line"></span><br><span class="line"><span class="comment">--查询员工编号,员工姓名,员工的部门名称,员工的工资等级,经理的编号,经理的姓名,经理的部门名称,经理的工资等级</span></span><br><span class="line"><span class="keyword">select</span> e1.empno,e1.ename,d1.dname,s1.grade,e1.mgr,m1.ename,d2.dname,s2.grade</span><br><span class="line"><span class="keyword">from</span> emp e1, emp m1,dept d1,dept d2,salgrade s1,salgrade s2 </span><br><span class="line"><span class="keyword">where</span> </span><br><span class="line">     e1.mgr= m1.empno </span><br><span class="line"> <span class="keyword">and</span> e1.deptno = d1.deptno</span><br><span class="line"> <span class="keyword">and</span> m1.deptno = d2.deptno</span><br><span class="line"> <span class="keyword">and</span> e1.sal <span class="keyword">between</span> s1.losal <span class="keyword">and</span> s1.hisal </span><br><span class="line"> <span class="keyword">and</span> m1.sal <span class="keyword">between</span> s2.losal <span class="keyword">and</span> s2.hisal </span><br><span class="line">;</span><br><span class="line"></span><br><span class="line"><span class="comment">--查询员工编号,员工姓名,员工的部门名称,员工的工资等级,经理的编号,经理的姓名,经理的部门名称,经理的工资等级</span></span><br><span class="line"><span class="comment">--将工资等级 1,2,3,4 显示成 中文的 一级 二级 三级...</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> e1.empno,</span><br><span class="line">       e1.ename,</span><br><span class="line">       d1.dname,</span><br><span class="line">       <span class="keyword">case</span> s1.grade</span><br><span class="line">         <span class="keyword">when</span> <span class="number">1</span> <span class="keyword">then</span> <span class="string">'一级'</span></span><br><span class="line">         <span class="keyword">when</span> <span class="number">2</span> <span class="keyword">then</span> <span class="string">'二级'</span></span><br><span class="line">         <span class="keyword">when</span> <span class="number">3</span> <span class="keyword">then</span> <span class="string">'三级'</span></span><br><span class="line">         <span class="keyword">when</span> <span class="number">4</span> <span class="keyword">then</span> <span class="string">'四级'</span></span><br><span class="line">         <span class="keyword">else</span></span><br><span class="line">             <span class="string">'五级'</span></span><br><span class="line">         <span class="keyword">end</span> <span class="string">"等级"</span>,</span><br><span class="line">       e1.mgr,</span><br><span class="line">       m1.ename,</span><br><span class="line">       d2.dname,</span><br><span class="line">       <span class="keyword">decode</span>(s2.grade,<span class="number">1</span>,<span class="string">'一级'</span>,<span class="number">2</span>,<span class="string">'二级'</span>,<span class="number">3</span>,<span class="string">'三级'</span>,<span class="number">4</span>,<span class="string">'四级'</span>,<span class="string">'五级'</span>) <span class="string">"等级"</span></span><br><span class="line"><span class="keyword">from</span> emp e1, emp m1,dept d1,dept d2,salgrade s1,salgrade s2 </span><br><span class="line"><span class="keyword">where</span> </span><br><span class="line">     e1.mgr= m1.empno </span><br><span class="line"> <span class="keyword">and</span> e1.deptno = d1.deptno</span><br><span class="line"> <span class="keyword">and</span> m1.deptno = d2.deptno</span><br><span class="line"> <span class="keyword">and</span> e1.sal <span class="keyword">between</span> s1.losal <span class="keyword">and</span> s1.hisal </span><br><span class="line"> <span class="keyword">and</span> m1.sal <span class="keyword">between</span> s2.losal <span class="keyword">and</span> s2.hisal </span><br><span class="line">;</span><br><span class="line"></span><br><span class="line"><span class="comment">--查询员工姓名和员工部门所处的位置</span></span><br><span class="line"><span class="keyword">select</span> e1.ename,d1.loc <span class="keyword">from</span> emp e1,dept d1 <span class="keyword">where</span> e1.deptno = d1.deptno;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp e1 <span class="keyword">inner</span> <span class="keyword">join</span> dept d1 <span class="keyword">on</span> e1.deptno = d1.deptno;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    外连接: (标准,通用写法)</span></span><br><span class="line"><span class="comment">       左外连接: left outer join 左表中所有的记录,如果右表没有对应记录,就显示空</span></span><br><span class="line"><span class="comment">       右外连接: right outer join 右表中的所有记录,如果左表没有对应记录,就显示空</span></span><br><span class="line"><span class="comment">       outer 关键字可以省略  </span></span><br><span class="line"><span class="comment">       </span></span><br><span class="line"><span class="comment">    Oracle中的外连接: (+) 实际上是如果没有对应的记录就加上空值</span></span><br><span class="line"><span class="comment">          select * from emp e1,dept d1 where e1.deptno = d1.deptno(+);            </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp e1 <span class="keyword">left</span> <span class="keyword">outer</span> <span class="keyword">join</span> dept d1 <span class="keyword">on</span> e1.deptno = d1.deptno;</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> emp(empno,ename) <span class="keyword">values</span>(<span class="number">9527</span>,<span class="string">'HUAAN'</span>);</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp e1,dept d1 <span class="keyword">where</span> e1.deptno = d1.deptno(+);</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp e1 <span class="keyword">right</span> <span class="keyword">outer</span> <span class="keyword">join</span> dept d1 <span class="keyword">on</span> e1.deptno = d1.deptno;</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp e1,dept d1 <span class="keyword">where</span> e1.deptno(+) = d1.deptno;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">       子查询: 查询语句中嵌套查询语句; 用来解决复杂的查询语句</span></span><br><span class="line"><span class="comment">            查询最高工资的员工信息     </span></span><br><span class="line"><span class="comment">         单行子查询: &gt; &gt;= = &lt; &lt;= &lt;&gt; !=</span></span><br><span class="line"><span class="comment">            </span></span><br><span class="line"><span class="comment">         多行子查询: in not in  &gt;any &gt;all exists not exists</span></span><br><span class="line"><span class="comment">               </span></span><br><span class="line"><span class="comment">               查询领导信息</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">--查询最高工资的员工信息 </span></span><br><span class="line"><span class="comment">--1.查询出最高工资 --5000</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">max</span>(sal) <span class="keyword">from</span> emp;</span><br><span class="line"><span class="comment">--2. 工资等于最高工资</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> sal = (<span class="keyword">select</span> <span class="keyword">max</span>(sal) <span class="keyword">from</span> emp);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--查询出比雇员7654的工资高,同时和7788从事相同工作的员工信息</span></span><br><span class="line"><span class="comment">--1.雇员7654的工资 1250</span></span><br><span class="line"><span class="keyword">select</span> sal <span class="keyword">from</span> emp <span class="keyword">where</span> empno = <span class="number">7654</span>;</span><br><span class="line"><span class="comment">--2.7788从事的工作 ANALYST</span></span><br><span class="line"><span class="keyword">select</span> job <span class="keyword">from</span> emp <span class="keyword">where</span> empno = <span class="number">7788</span>;</span><br><span class="line"><span class="comment">--3.两个条件合并</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> sal &gt; <span class="number">1250</span> <span class="keyword">and</span> job = <span class="string">'ANALYST'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> sal &gt; (<span class="keyword">select</span> sal <span class="keyword">from</span> emp <span class="keyword">where</span> empno = <span class="number">7654</span>) <span class="keyword">and</span> job = (<span class="keyword">select</span> job <span class="keyword">from</span> emp <span class="keyword">where</span> empno = <span class="number">7788</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">--查询每个部门最低工资的员工信息和他所在的部门信息</span></span><br><span class="line"><span class="comment">--1.查询每个部门的最低工资,分组统计</span></span><br><span class="line"><span class="keyword">select</span> deptno,<span class="keyword">min</span>(sal) minsal <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> deptno;</span><br><span class="line"><span class="comment">--2.员工工资等于他所处部门的最低工资</span></span><br><span class="line"><span class="keyword">select</span> * </span><br><span class="line"><span class="keyword">from</span> emp e1,</span><br><span class="line">     (<span class="keyword">select</span> deptno,<span class="keyword">min</span>(sal) minsal <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> deptno) t1 </span><br><span class="line"><span class="keyword">where</span> e1.deptno = t1.deptno <span class="keyword">and</span> e1.sal = t1.minsal; </span><br><span class="line"><span class="comment">--3.查询部门相关信息</span></span><br><span class="line"><span class="keyword">select</span> * </span><br><span class="line"><span class="keyword">from</span> emp e1,</span><br><span class="line">     (<span class="keyword">select</span> deptno,<span class="keyword">min</span>(sal) minsal <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> deptno) t1,</span><br><span class="line">     dept d1 </span><br><span class="line"><span class="keyword">where</span> e1.deptno = t1.deptno <span class="keyword">and</span> e1.sal = t1.minsal <span class="keyword">and</span> e1.deptno = d1.deptno; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">      内联接, 单行子查询, 多行子查询</span></span><br><span class="line"><span class="comment">      </span></span><br><span class="line"><span class="comment">      in </span></span><br><span class="line"><span class="comment">      not in</span></span><br><span class="line"><span class="comment">      any </span></span><br><span class="line"><span class="comment">      all</span></span><br><span class="line"><span class="comment">      exists </span></span><br><span class="line"><span class="comment">      </span></span><br><span class="line"><span class="comment">      通常情况下, 数据库中不要出现null  最好的做法加上Not null</span></span><br><span class="line"><span class="comment">      null值并不代表不占空间, char(100) null 100个字符</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">--查询领导信息</span></span><br><span class="line"><span class="comment">--1.查询所有经理的编号</span></span><br><span class="line"><span class="keyword">select</span> mgr <span class="keyword">from</span> emp;</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> mgr <span class="keyword">from</span> emp;</span><br><span class="line"><span class="comment">--2.结果</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> empno <span class="keyword">in</span> (<span class="keyword">select</span> mgr <span class="keyword">from</span> emp);</span><br><span class="line"></span><br><span class="line"><span class="comment">--查询不是领导的信息</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> empno <span class="keyword">not</span> <span class="keyword">in</span> (<span class="keyword">select</span> mgr <span class="keyword">from</span> emp);</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> empno &lt;&gt;all(<span class="keyword">select</span> mgr <span class="keyword">from</span> emp);</span><br><span class="line"><span class="comment">--正确的写法</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> empno <span class="keyword">not</span> <span class="keyword">in</span> (<span class="keyword">select</span> mgr <span class="keyword">from</span> emp <span class="keyword">where</span> mgr <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">--查询出比10号部门任意一个员工薪资高的员工信息  10 20 30</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> sal &gt;<span class="keyword">any</span> (<span class="keyword">select</span> sal <span class="keyword">from</span> emp <span class="keyword">where</span> deptno = <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--查询出比20号部门所有员工薪资高的员工信息 10 20 30</span></span><br><span class="line"><span class="comment">--1.20号最高工资 5000</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">max</span>(sal) <span class="keyword">from</span> emp <span class="keyword">where</span> deptno =<span class="number">20</span>;</span><br><span class="line"><span class="comment">--2.员工信息</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> sal &gt; (<span class="keyword">select</span> <span class="keyword">max</span>(sal) <span class="keyword">from</span> emp <span class="keyword">where</span> deptno =<span class="number">20</span>); </span><br><span class="line"></span><br><span class="line"><span class="comment">-----使用多行子查询完成上面这题</span></span><br><span class="line"><span class="comment">---------20号部门所有员工薪资 (800 2975 ...)</span></span><br><span class="line"><span class="keyword">select</span> sal <span class="keyword">from</span> emp <span class="keyword">where</span> deptno = <span class="number">20</span>;</span><br><span class="line"><span class="comment">---------大于集合所有的</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> sal &gt;all(<span class="keyword">select</span> sal <span class="keyword">from</span> emp <span class="keyword">where</span> deptno = <span class="number">20</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">     exists(查询语句) : 存在的意思,判断一张表里面的记录是否存在与另外一张表中</span></span><br><span class="line"><span class="comment">                当作布尔值来处理:</span></span><br><span class="line"><span class="comment">                    当查询语句有结果的时候, 就是返回true</span></span><br><span class="line"><span class="comment">                                            否则返回的是false</span></span><br><span class="line"><span class="comment">     数据量比较大的时候是非常高效的   </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> <span class="keyword">exists</span>(<span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> deptno = <span class="number">1234567</span>);</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> <span class="number">3</span>=<span class="number">4</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> <span class="keyword">exists</span>(<span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> deptno = <span class="number">20</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">--查询有员工的部门的信息</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> dept d1 <span class="keyword">where</span> <span class="keyword">exists</span>(<span class="keyword">select</span> * <span class="keyword">from</span> emp e1 <span class="keyword">where</span> e1.deptno = d1.deptno );</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--找到员工表中工资最高的前三名(降序排序)</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">order</span> <span class="keyword">by</span> sal <span class="keyword">desc</span>;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">       rownum : 伪列, 系统自动生成的一列, 用来表示行号</span></span><br><span class="line"><span class="comment">       </span></span><br><span class="line"><span class="comment">       rownum是Oracle中特有的用来表示行号的, 默认值/起始值是 1 ,在每查询出结果之后,再添加1</span></span><br><span class="line"><span class="comment">       </span></span><br><span class="line"><span class="comment">       rownum最好不能做大于号判断,可以做小于号判断</span></span><br><span class="line"><span class="comment">       </span></span><br><span class="line"><span class="comment">       SQL执行顺序</span></span><br><span class="line"><span class="comment">       from .. where ..group by..having .. select..rownum..order by</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">Select</span> <span class="keyword">rownum</span>,e1.* <span class="keyword">from</span> emp e1;</span><br><span class="line"></span><br><span class="line"><span class="comment">--查询rownum大于2的所有记录 ,</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">rownum</span>,e1.* <span class="keyword">from</span> emp e1 <span class="keyword">where</span> <span class="keyword">rownum</span> &gt; <span class="number">2</span>;  <span class="comment">--没有任何记录</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--查询rownum大于等于1的所有记录 </span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">rownum</span>,e1.* <span class="keyword">from</span> emp e1 <span class="keyword">where</span> <span class="keyword">rownum</span> &gt;=<span class="number">1</span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">--查询rownum &lt; 6 的所有记录</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">rownum</span>,e1.* <span class="keyword">from</span> emp e1 <span class="keyword">where</span> <span class="keyword">rownum</span> &lt; <span class="number">6</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--rownum 排序</span></span><br><span class="line"><span class="keyword">Select</span> <span class="keyword">rownum</span>,e1.* <span class="keyword">from</span> emp e1 <span class="keyword">order</span> <span class="keyword">by</span> sal;</span><br><span class="line"></span><br><span class="line"><span class="comment">--找到员工表中工资最高的前三名</span></span><br><span class="line"><span class="keyword">select</span> e1.* <span class="keyword">from</span> emp e1 <span class="keyword">order</span> <span class="keyword">by</span> sal <span class="keyword">desc</span>;</span><br><span class="line"><span class="comment">--将上面的结果当作一张表处理,再查询</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">rownum</span>, t1.* <span class="keyword">from</span> (<span class="keyword">select</span> e1.* <span class="keyword">from</span> emp e1 <span class="keyword">order</span> <span class="keyword">by</span> sal <span class="keyword">desc</span>) t1;</span><br><span class="line"></span><br><span class="line"><span class="comment">--只要显示前三条记录</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">rownum</span>, t1.* <span class="keyword">from</span> (<span class="keyword">select</span> e1.* <span class="keyword">from</span> emp e1 <span class="keyword">order</span> <span class="keyword">by</span> sal <span class="keyword">desc</span>) t1 <span class="keyword">where</span> <span class="keyword">rownum</span> &lt; <span class="number">4</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--找到员工表中薪水大于本部门平均薪水的员工</span></span><br><span class="line"><span class="comment">--1.分组统计部门平均薪水</span></span><br><span class="line"><span class="keyword">select</span> deptno,<span class="keyword">avg</span>(sal) avgsal <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> deptno;</span><br><span class="line"><span class="comment">--2.员工工资 &gt; 本部门平均工资</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp e1,(<span class="keyword">select</span> deptno,<span class="keyword">avg</span>(sal) avgsal <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> deptno) t1 </span><br><span class="line"><span class="keyword">where</span> e1.deptno = t1.deptno <span class="keyword">and</span> e1.sal &gt; t1.avgsal;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">      关联子查询 , 非关联子查询</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp e <span class="keyword">where</span> sal &gt; (<span class="keyword">select</span> <span class="keyword">avg</span>(sal) <span class="keyword">from</span> emp e2 <span class="keyword">group</span> <span class="keyword">by</span> deptno <span class="keyword">having</span> e.deptno=e2.deptno);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">   统计每年入职的员工个数</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">select</span> hiredate <span class="keyword">from</span> emp;</span><br><span class="line"><span class="comment">--只显示年</span></span><br><span class="line"><span class="keyword">select</span> to_char(hiredate,<span class="string">'yyyy'</span>) <span class="keyword">from</span> emp;</span><br><span class="line"><span class="comment">--分组统计</span></span><br><span class="line"><span class="keyword">select</span>  to_char(hiredate,<span class="string">'yyyy'</span>) yy,<span class="keyword">count</span>(<span class="number">1</span>) cc <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span>  to_char(hiredate,<span class="string">'yyyy'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> yy</span><br><span class="line"><span class="keyword">from</span> </span><br><span class="line">(<span class="keyword">select</span>  to_char(hiredate,<span class="string">'yyyy'</span>) yy,<span class="keyword">count</span>(<span class="number">1</span>) cc <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span>  to_char(hiredate,<span class="string">'yyyy'</span>)) tt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">case</span> yy <span class="keyword">when</span> <span class="string">'1987'</span> <span class="keyword">then</span> cc <span class="keyword">end</span></span><br><span class="line"><span class="keyword">from</span> </span><br><span class="line">(<span class="keyword">select</span>  to_char(hiredate,<span class="string">'yyyy'</span>) yy,<span class="keyword">count</span>(<span class="number">1</span>) cc <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span>  to_char(hiredate,<span class="string">'yyyy'</span>)) tt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">case</span> yy <span class="keyword">when</span> <span class="string">'1987'</span> <span class="keyword">then</span> cc <span class="keyword">end</span> <span class="string">"1987"</span></span><br><span class="line"><span class="keyword">from</span> </span><br><span class="line">(<span class="keyword">select</span>  to_char(hiredate,<span class="string">'yyyy'</span>) yy,<span class="keyword">count</span>(<span class="number">1</span>) cc <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span>  to_char(hiredate,<span class="string">'yyyy'</span>)) tt;</span><br><span class="line"></span><br><span class="line"><span class="comment">--去除行记录中的空值</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">sum</span>(<span class="keyword">case</span> yy <span class="keyword">when</span> <span class="string">'1987'</span> <span class="keyword">then</span> cc <span class="keyword">end</span>) <span class="string">"1987"</span></span><br><span class="line"><span class="keyword">from</span> </span><br><span class="line">(<span class="keyword">select</span>  to_char(hiredate,<span class="string">'yyyy'</span>) yy,<span class="keyword">count</span>(<span class="number">1</span>) cc <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span>  to_char(hiredate,<span class="string">'yyyy'</span>)) tt;</span><br><span class="line"></span><br><span class="line"><span class="comment">--统计员工的总数</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">sum</span>(cc) <span class="string">"TOTAL"</span></span><br><span class="line"><span class="keyword">from</span> </span><br><span class="line">(<span class="keyword">select</span>  to_char(hiredate,<span class="string">'yyyy'</span>) yy,<span class="keyword">count</span>(<span class="number">1</span>) cc <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span>  to_char(hiredate,<span class="string">'yyyy'</span>)) tt;</span><br><span class="line"></span><br><span class="line"><span class="comment">--将1987 和TOTAL 合并在一起</span></span><br><span class="line"><span class="keyword">select</span></span><br><span class="line">      <span class="keyword">sum</span>(cc) <span class="string">"TOTAL"</span>,</span><br><span class="line">      <span class="keyword">sum</span>(<span class="keyword">case</span> yy <span class="keyword">when</span> <span class="string">'1987'</span> <span class="keyword">then</span> cc <span class="keyword">end</span>) <span class="string">"1987"</span></span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">      (<span class="keyword">select</span>  to_char(hiredate,<span class="string">'yyyy'</span>) yy,<span class="keyword">count</span>(<span class="number">1</span>) cc <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span>  to_char(hiredate,<span class="string">'yyyy'</span>)) tt;</span><br><span class="line"></span><br><span class="line"><span class="comment">--显示所有年份的结果</span></span><br><span class="line"><span class="keyword">select</span></span><br><span class="line">      <span class="keyword">sum</span>(cc) <span class="string">"TOTAL"</span>,</span><br><span class="line">      <span class="keyword">sum</span>(<span class="keyword">case</span> yy <span class="keyword">when</span> <span class="string">'1980'</span> <span class="keyword">then</span> cc <span class="keyword">end</span>) <span class="string">"1980"</span>,</span><br><span class="line">      <span class="keyword">sum</span>(<span class="keyword">case</span> yy <span class="keyword">when</span> <span class="string">'1981'</span> <span class="keyword">then</span> cc <span class="keyword">end</span>) <span class="string">"1981"</span>,</span><br><span class="line">      <span class="keyword">sum</span>(<span class="keyword">case</span> yy <span class="keyword">when</span> <span class="string">'1982'</span> <span class="keyword">then</span> cc <span class="keyword">end</span>) <span class="string">"1982"</span>,</span><br><span class="line">      <span class="keyword">sum</span>(<span class="keyword">case</span> yy <span class="keyword">when</span> <span class="string">'1987'</span> <span class="keyword">then</span> cc <span class="keyword">end</span>) <span class="string">"1987"</span></span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">      (<span class="keyword">select</span>  to_char(hiredate,<span class="string">'yyyy'</span>) yy,<span class="keyword">count</span>(<span class="number">1</span>) cc <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span>  to_char(hiredate,<span class="string">'yyyy'</span>)) tt;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    rowid : 伪列  每行记录所存放的真实物理地址</span></span><br><span class="line"><span class="comment">    rownum : 行号 , 每查询出记录之后,就会添加一个行号</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">rowid</span>,e.* <span class="keyword">from</span> emp e;</span><br><span class="line"></span><br><span class="line"><span class="comment">--去除表中重复记录</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> p(</span><br><span class="line">       <span class="keyword">name</span> varchar2(<span class="number">10</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> p <span class="keyword">values</span>(<span class="string">'黄伟福'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> p <span class="keyword">values</span>(<span class="string">'赵洪'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> p <span class="keyword">values</span>(<span class="string">'杨华'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> p <span class="keyword">where</span> </span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">rowid</span>,p.* <span class="keyword">from</span> p;</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> * <span class="keyword">from</span> p;</span><br><span class="line"></span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> p p1 <span class="keyword">where</span> <span class="keyword">rowid</span> &gt; (<span class="keyword">select</span> <span class="keyword">min</span>(<span class="keyword">rowid</span>) <span class="keyword">from</span> p p2 <span class="keyword">where</span> p1.name = p2.name);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">       rownum : 分页查询 </span></span><br><span class="line"><span class="comment">       在oracle中只能使用子查询来做分页查询  </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">--查询第6 - 第10 记录</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">rownum</span>, emp.* <span class="keyword">from</span> emp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">rownum</span> hanghao, emp.* <span class="keyword">from</span> emp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> (<span class="keyword">select</span> <span class="keyword">rownum</span> hanghao, emp.* <span class="keyword">from</span> emp) tt <span class="keyword">where</span> tt.hanghao <span class="keyword">between</span> <span class="number">6</span> <span class="keyword">and</span> <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">       集合运算: </span></span><br><span class="line"><span class="comment">         并集: 将两个查询结果进行合并</span></span><br><span class="line"><span class="comment">         交集</span></span><br><span class="line"><span class="comment">         差集</span></span><br><span class="line"><span class="comment">       </span></span><br><span class="line"><span class="comment">       所有的查询结果可能不是来自同一张表,  </span></span><br><span class="line"><span class="comment">         emp  2000年</span></span><br><span class="line"><span class="comment">              2017年 手机 详细信息 emp2017</span></span><br><span class="line"><span class="comment">         </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">--工资大于1500,或者20号部门下的员工</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> sal &gt; <span class="number">1500</span> <span class="keyword">or</span> deptno = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--工资大于1500</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> sal &gt; <span class="number">1500</span>;</span><br><span class="line"><span class="comment">--20号部门下的员工</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> deptno = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--并集运算: union  union all</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">        union : 去除重复的,并且排序</span></span><br><span class="line"><span class="comment">        union all : 不会去除重复的</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> sal &gt; <span class="number">1500</span></span><br><span class="line"><span class="keyword">union</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> deptno = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> sal &gt; <span class="number">1500</span></span><br><span class="line"><span class="keyword">union</span> all</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> deptno = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    交集运算: intersect</span></span><br><span class="line"><span class="comment">       </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">--工资大于1500,并且20号部门下的员工</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> sal &gt; <span class="number">1500</span>;</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> deptno = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> sal &gt; <span class="number">1500</span></span><br><span class="line"><span class="keyword">intersect</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> deptno = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">   差集运算: 两个结果相减</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">--1981年入职员工(不包括总裁和经理)</span></span><br><span class="line"><span class="comment">--1981年入职员工</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> to_char(hiredate,<span class="string">'yyyy'</span>)=<span class="string">'1981'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--总裁和经理</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> job = <span class="string">'PRESIDENT'</span> <span class="keyword">or</span> job = <span class="string">'MANAGER'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> to_char(hiredate,<span class="string">'yyyy'</span>)=<span class="string">'1981'</span></span><br><span class="line"><span class="keyword">minus</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> job = <span class="string">'PRESIDENT'</span> <span class="keyword">or</span> job = <span class="string">'MANAGER'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">       集合运算中的注意事项:</span></span><br><span class="line"><span class="comment">         1.列的类型要一致</span></span><br><span class="line"><span class="comment">         2.按照顺序写</span></span><br><span class="line"><span class="comment">         3.列的数量要一致,如果不足,用空值填充</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">select</span> ename,sal <span class="keyword">from</span> emp <span class="keyword">where</span> sal &gt; <span class="number">1500</span></span><br><span class="line"><span class="keyword">union</span></span><br><span class="line"><span class="keyword">select</span> ename,sal <span class="keyword">from</span> emp <span class="keyword">where</span> deptno = <span class="number">20</span>;</span><br><span class="line"><span class="comment">--列的类型不匹配</span></span><br><span class="line"><span class="keyword">select</span> ename,sal <span class="keyword">from</span> emp <span class="keyword">where</span> sal &gt; <span class="number">1500</span></span><br><span class="line"><span class="keyword">union</span></span><br><span class="line"><span class="keyword">select</span> sal,ename <span class="keyword">from</span> emp <span class="keyword">where</span> deptno = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--列的数量不匹配</span></span><br><span class="line"><span class="keyword">select</span> ename,sal,deptno <span class="keyword">from</span> emp <span class="keyword">where</span> sal &gt; <span class="number">1500</span></span><br><span class="line"><span class="keyword">union</span></span><br><span class="line"><span class="keyword">select</span> ename,sal <span class="keyword">from</span> emp <span class="keyword">where</span> deptno = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> ename,sal,deptno <span class="keyword">from</span> emp <span class="keyword">where</span> sal &gt; <span class="number">1500</span></span><br><span class="line"><span class="keyword">union</span></span><br><span class="line"><span class="keyword">select</span> ename,sal,<span class="literal">null</span> <span class="keyword">from</span> emp <span class="keyword">where</span> deptno = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> ename,sal,deptno <span class="keyword">from</span> emp <span class="keyword">where</span> sal &gt; <span class="number">1500</span></span><br><span class="line"><span class="keyword">union</span></span><br><span class="line"><span class="keyword">select</span> ename,sal,<span class="number">66</span> <span class="keyword">from</span> emp <span class="keyword">where</span> deptno = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp;</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> dept;</span><br></pre></td></tr></table></figure>
<h2 id="第三天"><a href="#第三天" class="headerlink" title="第三天:"></a>第三天:</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  多表查询:</span></span><br><span class="line"><span class="comment">    内联接</span></span><br><span class="line"><span class="comment">      等值联接</span></span><br><span class="line"><span class="comment">      inner join</span></span><br><span class="line"><span class="comment">    外连接</span></span><br><span class="line"><span class="comment">      left outer join</span></span><br><span class="line"><span class="comment">      right outer join</span></span><br><span class="line"><span class="comment">      Oracle特有的写法(+)</span></span><br><span class="line"><span class="comment">      </span></span><br><span class="line"><span class="comment">    子查询:</span></span><br><span class="line"><span class="comment">      </span></span><br><span class="line"><span class="comment">   </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">--内联接的结果</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp e1,emp t1 <span class="keyword">where</span> e1.mgr = t1.empno;</span><br><span class="line"><span class="comment">--t1表里面的所有记录都会显示出来, 如果t1.empno 在e1.mgr中没有对应的记录,就加空值</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp e1,emp t1 <span class="keyword">where</span> e1.mgr(+) = t1.empno;</span><br><span class="line"><span class="comment">--查询不是领导的员工编号</span></span><br><span class="line"><span class="keyword">select</span> empno <span class="keyword">from</span> emp <span class="keyword">where</span> empno <span class="keyword">not</span> <span class="keyword">in</span> (<span class="keyword">select</span> mgr <span class="keyword">from</span> emp <span class="keyword">where</span> mgr <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">--获取员工的名字和部门的名字</span></span><br><span class="line"><span class="keyword">select</span> e.ename,d.dname <span class="keyword">from</span> emp e,dept d <span class="keyword">where</span> e.deptno = d.deptno;</span><br><span class="line"><span class="comment">----使用子查询的方式来完成</span></span><br><span class="line"><span class="keyword">select</span> ename,deptno <span class="keyword">from</span> emp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> ename,deptno,deptno <span class="keyword">from</span> emp;</span><br><span class="line"><span class="comment">--关联子查询, 子查询依赖外部查询的条件</span></span><br><span class="line"><span class="keyword">select</span> e.ename,e.deptno,(<span class="keyword">select</span> d.dname <span class="keyword">from</span> dept d <span class="keyword">where</span> d.deptno = e.deptno ) aa <span class="keyword">from</span> emp e;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--统计薪资大于薪资最高的员工所在部门的平均工资和薪资最低的员工所在部门的平均工资的平均工资的员工信息。</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">     Oracle体系结构:</span></span><br><span class="line"><span class="comment">      数据库 ---&gt; 数据库实例ORCL ---&gt; 表空间 (用户里面的创建表) ---&gt; 数据文件 </span></span><br><span class="line"><span class="comment">      地球   ---&gt; 中国           ---&gt; 省份  (人民)              ---&gt; 土地山川河流</span></span><br><span class="line"><span class="comment">     </span></span><br><span class="line"><span class="comment">     雄安新区 ---&gt; 人(开发荒地,种地)</span></span><br><span class="line"><span class="comment">                </span></span><br><span class="line"><span class="comment">     </span></span><br><span class="line"><span class="comment">     创建表空间: 逻辑单位, 通常我们新建一个项目,就会去新建表空间,在表空间中创建用户来创建表</span></span><br><span class="line"><span class="comment">           语法:</span></span><br><span class="line"><span class="comment">               create tablespace 表空间的名称</span></span><br><span class="line"><span class="comment">               datafile '文件的路径(服务器上)'</span></span><br><span class="line"><span class="comment">               size 大小</span></span><br><span class="line"><span class="comment">               autoextend on  自动扩展</span></span><br><span class="line"><span class="comment">               next 每次扩展的大小</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">--切换到system帐号下创建</span></span><br><span class="line"><span class="comment">--创建一个表空间 --- 汉东</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">tablespace</span> handong</span><br><span class="line"><span class="keyword">datafile</span> <span class="string">'c:\handong.dbf'</span></span><br><span class="line"><span class="keyword">size</span> <span class="number">100</span>m</span><br><span class="line"><span class="keyword">autoextend</span> <span class="keyword">on</span></span><br><span class="line"><span class="keyword">next</span> <span class="number">10</span>m;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--删除表空间</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">tablespace</span> handong;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">   创建用户 </span></span><br><span class="line"><span class="comment">     create user 用户名</span></span><br><span class="line"><span class="comment">     identified by 密码</span></span><br><span class="line"><span class="comment">     default tablespace 表空间的名称</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> dakang</span><br><span class="line"><span class="keyword">identified</span> <span class="keyword">by</span> dakang</span><br><span class="line"><span class="keyword">default</span> <span class="keyword">tablespace</span> handong;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">授权   grant 角色 | 权限  to 用户</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">connect</span> <span class="keyword">to</span> dakang;</span><br><span class="line"></span><br><span class="line"><span class="comment">--授予 dba的角色</span></span><br><span class="line"><span class="keyword">grant</span> dba <span class="keyword">to</span> dakang;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> scott.emp;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">      创建表:</span></span><br><span class="line"><span class="comment">         create table 表名(</span></span><br><span class="line"><span class="comment">           列名  列的类型 [列的约束],</span></span><br><span class="line"><span class="comment">           列名  列的类型  [列的约束]      </span></span><br><span class="line"><span class="comment">         );</span></span><br><span class="line"><span class="comment">      列的类型:</span></span><br><span class="line"><span class="comment">         varchar ,在Oracle中,目前是支持的, 但是不保证以后还支持</span></span><br><span class="line"><span class="comment">         </span></span><br><span class="line"><span class="comment">         varchar2(长度) 可变字符长度    varchar2(10)  hello  占5个字符</span></span><br><span class="line"><span class="comment">         char(长度)   固定长度字符      char(10)      hello  占10个字符,用空格填充</span></span><br><span class="line"><span class="comment">         number(总长度,小数长度)     数字类型 --小数长度不能大于等于总长度</span></span><br><span class="line"><span class="comment">         </span></span><br><span class="line"><span class="comment">         date                   年月日时分秒 2017/4/13 9:43:49</span></span><br><span class="line"><span class="comment">         timestamp              时间戳, 比date类型更加精确 13-APR-17 09.44.08.272000 AM +08:00</span></span><br><span class="line"><span class="comment">         </span></span><br><span class="line"><span class="comment">         LONG/CLOB : 存放一本小说</span></span><br><span class="line"><span class="comment">         BLOB      : 存放电影  java 存进去,  再读取出来</span></span><br><span class="line"><span class="comment">     </span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    使用子查询的方式创建表</span></span><br><span class="line"><span class="comment">         </span></span><br><span class="line"><span class="comment">         create table 表名 as 查询语句; </span></span><br><span class="line"><span class="comment">         </span></span><br><span class="line"><span class="comment">           注意: 只会复制表结构和表中的数据,不会复制列的约束     </span></span><br><span class="line"><span class="comment">                 如果查询语句有结果, 就是复制 表结构和数据</span></span><br><span class="line"><span class="comment">                 如果查询语句没有结果, 就是复制 表结构   </span></span><br><span class="line"><span class="comment">         </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> test1(</span><br><span class="line">   name1 varchar2(<span class="number">10</span>),</span><br><span class="line">   name2 <span class="built_in">char</span>(<span class="number">10</span>),</span><br><span class="line">   age   <span class="built_in">number</span>(<span class="number">2</span>,<span class="number">3</span>)    </span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> test1(name1,name2) <span class="keyword">values</span>(<span class="string">'hello'</span>,<span class="string">'hello'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> test1 <span class="keyword">where</span> name1 <span class="keyword">like</span> <span class="string">'hello'</span>; <span class="comment">--可以查询数据</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> test1 <span class="keyword">where</span> name2 <span class="keyword">like</span> <span class="string">'hello'</span>; <span class="comment">--查不出数据</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> test1(age) <span class="keyword">values</span>(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">current_date</span> <span class="keyword">from</span> dual;</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">current_timestamp</span> <span class="keyword">from</span> dual;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> test1;</span><br><span class="line"></span><br><span class="line"><span class="comment">--  create table 表名 as 查询语句; 复制表     </span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> scott.emp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> emp <span class="keyword">as</span> <span class="keyword">select</span> * <span class="keyword">from</span> scott.emp;</span><br><span class="line"></span><br><span class="line"><span class="comment">--如果查询语句是没有任何的结果的</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> scott.emp <span class="keyword">where</span> <span class="number">1</span>=<span class="number">2</span>;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> emp1 <span class="keyword">as</span> <span class="keyword">select</span> * <span class="keyword">from</span> scott.emp <span class="keyword">where</span> <span class="number">1</span>=<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp1;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    修改表:</span></span><br><span class="line"><span class="comment">       添加列</span></span><br><span class="line"><span class="comment">       修改列 vharchar2(10)</span></span><br><span class="line"><span class="comment">       删除列</span></span><br><span class="line"><span class="comment">       修改列名</span></span><br><span class="line"><span class="comment">       </span></span><br><span class="line"><span class="comment">       重命名表   </span></span><br><span class="line"><span class="comment">       </span></span><br><span class="line"><span class="comment">  SQL分类:</span></span><br><span class="line"><span class="comment">       DDL : 数据定义语言, 修改的结构  alter create drop truncate</span></span><br><span class="line"><span class="comment">       DML :　数据操纵语言 , 操作表中数据 insert update delete</span></span><br><span class="line"><span class="comment">       DCL : 数据控制语言 , grant     </span></span><br><span class="line"><span class="comment">       DQL : select</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> stu(</span><br><span class="line">    stuid <span class="built_in">number</span>,</span><br><span class="line">    sname <span class="built_in">varchar</span>(<span class="number">10</span>)   </span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">--添加一列  </span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> stu <span class="keyword">add</span> phone varchar2(<span class="number">11</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> stu <span class="keyword">add</span> (</span><br><span class="line">                          mobile varchar2(<span class="number">11</span>),</span><br><span class="line">                          sex    varchar2(<span class="number">2</span>)</span><br><span class="line">                     );</span><br><span class="line"></span><br><span class="line"><span class="comment">--修改列的类型</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> stu <span class="keyword">modify</span> sex varchar2(<span class="number">4</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">--修改列名 sex --- gender</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> stu <span class="keyword">rename</span> <span class="keyword">column</span> sex <span class="keyword">to</span> gender;</span><br><span class="line"></span><br><span class="line"><span class="comment">--删除列</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> stu <span class="keyword">drop</span> <span class="keyword">column</span> gender;</span><br><span class="line"></span><br><span class="line"><span class="comment">--修改表名</span></span><br><span class="line"><span class="keyword">rename</span> stu <span class="keyword">to</span> student;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--删除表</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> student;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">   表的五大约束</span></span><br><span class="line"><span class="comment">   列的约束: 约束主要是用来约束表中数据的规则</span></span><br><span class="line"><span class="comment">     主键约束: primary key 不能为空, 必须唯一</span></span><br><span class="line"><span class="comment">     非空约束</span></span><br><span class="line"><span class="comment">     唯一约束</span></span><br><span class="line"><span class="comment">     检查约束 check(条件)  在mysql中是可以写的,但是mysql直接忽略了检查约束</span></span><br><span class="line"><span class="comment">     </span></span><br><span class="line"><span class="comment">     外键约束:</span></span><br><span class="line"><span class="comment">          主要是用来约束从表A中的记录,必须是存在于主表B中</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">--男,女,人妖</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student(</span><br><span class="line">    stuid <span class="built_in">number</span> primary <span class="keyword">key</span>,</span><br><span class="line">    sname varchar2(<span class="number">10</span>) <span class="keyword">unique</span>,</span><br><span class="line">    age   varchar2(<span class="number">10</span>) <span class="keyword">not</span> <span class="literal">null</span>,</span><br><span class="line">    gender varchar2(<span class="number">4</span>) <span class="keyword">check</span>( gender <span class="keyword">in</span> (<span class="string">'男'</span>,<span class="string">'女'</span>,<span class="string">'人妖'</span>))</span><br><span class="line">);</span><br><span class="line"><span class="comment">--主键约束违反</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">'张三'</span>,<span class="string">'31'</span>,<span class="string">'男'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">'李四'</span>,<span class="string">'31'</span>,<span class="string">'男'</span>);</span><br><span class="line"><span class="comment">--唯一约束违反</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">'徐立'</span>,<span class="string">'31'</span>,<span class="string">'男'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="number">2</span>,<span class="string">'徐立'</span>,<span class="string">'31'</span>,<span class="string">'男'</span>);</span><br><span class="line"><span class="comment">--非空约束</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">'徐立'</span>,<span class="literal">null</span>,<span class="string">'男'</span>);</span><br><span class="line"><span class="comment">--检查约束</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">'徐立'</span>,<span class="string">'31'</span>,<span class="string">'男'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">'徐立'</span>,<span class="string">'31'</span>,<span class="string">'妖'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> student;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">     商品分类,商品表</span></span><br><span class="line"><span class="comment">     </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">--商品分类表</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> <span class="keyword">category</span>(</span><br><span class="line">       cid <span class="built_in">number</span> primary <span class="keyword">key</span>,</span><br><span class="line">       cname varchar2(<span class="number">20</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">--创建一个商品表</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> product(</span><br><span class="line">       pid <span class="built_in">number</span> primary <span class="keyword">key</span>,</span><br><span class="line">       pname varchar2(<span class="number">20</span>),</span><br><span class="line">       cno <span class="built_in">number</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">category</span> <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">'手机数码'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> product <span class="keyword">values</span>(<span class="number">10</span>,<span class="string">'锤子'</span>,<span class="number">11</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--添加外键约束</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> product <span class="keyword">add</span> foreign <span class="keyword">key</span>(cno) <span class="keyword">references</span> <span class="keyword">category</span>(cid);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> product <span class="keyword">values</span>(<span class="number">10</span>,<span class="string">'锤子'</span>,<span class="number">11</span>);<span class="comment">--插入失败</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--1.首先主表中必须存在11号, 先往主表中插入数据,再往从表中插入数据</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">category</span> <span class="keyword">values</span>(<span class="number">2</span>,<span class="string">'电脑办公'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> product <span class="keyword">values</span>(<span class="number">11</span>,<span class="string">'外星人'</span>,<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--删除Category</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> <span class="keyword">category</span>; <span class="comment">--表中记录被外键关联无法删除</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--强制删除表(不建议使用) : 先删除外键关联表的外键约束,然后再删除自己, 先删除product的外键约束,再删除category</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> <span class="keyword">category</span> <span class="keyword">cascade</span> <span class="keyword">constraint</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--级联删除</span></span><br><span class="line"><span class="comment">----添加外键约束,使用级联约束  ,在删除的时候,使用级联删除</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> product <span class="keyword">add</span> foreign <span class="keyword">key</span>(cno) <span class="keyword">references</span> <span class="keyword">category</span>(cid) <span class="keyword">on</span> <span class="keyword">delete</span> <span class="keyword">cascade</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">category</span> <span class="keyword">values</span>(<span class="number">2</span>,<span class="string">'电脑办公'</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> product <span class="keyword">values</span>(<span class="number">11</span>,<span class="string">'外星人'</span>,<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">--级联删除 : 首先去从表中找有没有 关联数据, 如果在从表中找到关联数据,先删除从表中关联数据,然后再删除表中的数据</span></span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> <span class="keyword">category</span> <span class="keyword">where</span> cid = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">category</span>;</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> product;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> product;</span><br><span class="line"><span class="keyword">truncate</span> <span class="keyword">table</span> product;</span><br><span class="line"><span class="keyword">truncate</span> <span class="keyword">table</span> <span class="keyword">category</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">     插入数据:</span></span><br><span class="line"><span class="comment">         insert into 表名 values(所有列的值都要对应写上)</span></span><br><span class="line"><span class="comment">         insert into 表名(列1,列2) values(值1,值2);</span></span><br><span class="line"><span class="comment">         </span></span><br><span class="line"><span class="comment">     使用子查询插入数据</span></span><br><span class="line"><span class="comment">         insert into 表名 查询语句</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp;</span><br><span class="line"><span class="comment">--将emp中10号部门的员工信息,插入到emp1中</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> emp1 <span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> deptno = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">     更新数据</span></span><br><span class="line"><span class="comment">       update 表名 set 列名 = 列的值  [where 条件]</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">update</span> emp1 <span class="keyword">set</span> ename=<span class="string">'HUAAN'</span> <span class="keyword">where</span> ename = <span class="string">'KING'</span>;</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp1;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">     删除数据:</span></span><br><span class="line"><span class="comment">       delete from 表名  [where 条件]</span></span><br><span class="line"><span class="comment">       </span></span><br><span class="line"><span class="comment">       delete和truncate 区别</span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">       delete:                 truncate:</span></span><br><span class="line"><span class="comment">        DML                    DDL</span></span><br><span class="line"><span class="comment">        逐条删除               先删除表再创建表</span></span><br><span class="line"><span class="comment">        支持事务操作           不支持事务操作,</span></span><br><span class="line"><span class="comment">                               执行效率要高  </span></span><br><span class="line"><span class="comment">       </span></span><br><span class="line"><span class="comment">       </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> emp1 <span class="keyword">where</span> empno=<span class="number">7839</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">   事务: 就是一系列的操作,要么都成功,要么都失败</span></span><br><span class="line"><span class="comment">       四大特性: 原子性,隔离性,持久性,一致性</span></span><br><span class="line"><span class="comment">          </span></span><br><span class="line"><span class="comment">       如果不考虑隔离级别: 脏读,虚读,不可重复读</span></span><br><span class="line"><span class="comment">            MYSQL隔离级别: READ UNCOMMITTED , READ COMMITTED, REPEATABLE READ, SERIALIAZABLE</span></span><br><span class="line"><span class="comment">            ORACLE隔离级别: READ COMMITTED SERIALIZABLE READ ONLY </span></span><br><span class="line"><span class="comment">                        默认隔离级别: READ COMMITTED</span></span><br><span class="line"><span class="comment">                        </span></span><br><span class="line"><span class="comment">      提交 : commit</span></span><br><span class="line"><span class="comment">      事务的保存点/回滚点: savepoint 保存点的名称</span></span><br><span class="line"><span class="comment">      回滚: rollback</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> louti(</span><br><span class="line">   lou <span class="built_in">number</span> primary <span class="keyword">key</span>    </span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> louti <span class="keyword">values</span>(<span class="number">1</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> louti <span class="keyword">values</span>(<span class="number">2</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> louti <span class="keyword">values</span>(<span class="number">3</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> louti <span class="keyword">values</span>(<span class="number">4</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> louti <span class="keyword">values</span>(<span class="number">5</span>);</span><br><span class="line"><span class="keyword">savepoint</span> dangban;</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> louti <span class="keyword">values</span>(<span class="number">5</span>); <span class="comment">--主键约束会发生异常</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> louti <span class="keyword">values</span>(<span class="number">6</span>);</span><br><span class="line"><span class="keyword">rollback</span> <span class="keyword">to</span> dangban</span><br><span class="line"><span class="keyword">commit</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="keyword">insert</span> <span class="keyword">into</span> louti <span class="keyword">values</span>(<span class="number">1</span>);</span><br><span class="line">  <span class="keyword">insert</span> <span class="keyword">into</span> louti <span class="keyword">values</span>(<span class="number">2</span>);</span><br><span class="line">  <span class="keyword">insert</span> <span class="keyword">into</span> louti <span class="keyword">values</span>(<span class="number">3</span>);</span><br><span class="line">  <span class="keyword">insert</span> <span class="keyword">into</span> louti <span class="keyword">values</span>(<span class="number">4</span>);</span><br><span class="line">  <span class="keyword">insert</span> <span class="keyword">into</span> louti <span class="keyword">values</span>(<span class="number">5</span>);</span><br><span class="line">  <span class="keyword">savepoint</span> dangban;</span><br><span class="line">  <span class="keyword">insert</span> <span class="keyword">into</span> louti <span class="keyword">values</span>(<span class="number">5</span>);  <span class="comment">--这行代码会发生异常</span></span><br><span class="line">  <span class="keyword">insert</span> <span class="keyword">into</span> louti <span class="keyword">values</span>(<span class="number">6</span>);</span><br><span class="line">  <span class="keyword">commit</span>;</span><br><span class="line">exception  <span class="comment">--捕获异常</span></span><br><span class="line">  when others then</span><br><span class="line">     <span class="keyword">rollback</span> <span class="keyword">to</span> dangban;</span><br><span class="line">     <span class="keyword">commit</span>;</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> louti;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">      视图: 是对查询结果的一个封装</span></span><br><span class="line"><span class="comment">      视图里面所有的数据,都是来自于它查询的那张表,视图本身不存储任何数据</span></span><br><span class="line"><span class="comment">          1.能够封装复杂的查询结果</span></span><br><span class="line"><span class="comment">          2.屏蔽表中的细节</span></span><br><span class="line"><span class="comment">       语法: </span></span><br><span class="line"><span class="comment">          create [or replace] view 视图的名称 as 查询语句 [ with read only]</span></span><br><span class="line"><span class="comment">          </span></span><br><span class="line"><span class="comment">       注意: 通常不要通过视图去修改,视图创建的时候,通常要加上with read only</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp;</span><br><span class="line"></span><br><span class="line"><span class="comment">--创建一个视图</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> <span class="keyword">replace</span> <span class="keyword">view</span> view_test1 <span class="keyword">as</span> <span class="keyword">select</span> ename,job,mgr <span class="keyword">from</span> emp;</span><br><span class="line"></span><br><span class="line"><span class="comment">--通过视图修改数据</span></span><br><span class="line"><span class="keyword">update</span> view_test1 <span class="keyword">set</span> ename=<span class="string">'SMITH2'</span> <span class="keyword">where</span> ename = <span class="string">'SMITH'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--创建一个只读视图</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> <span class="keyword">replace</span> <span class="keyword">view</span> view_test2 <span class="keyword">as</span> <span class="keyword">select</span> ename,job,mgr <span class="keyword">from</span> emp <span class="keyword">with</span> <span class="keyword">read</span> <span class="keyword">only</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">update</span> view_test2 <span class="keyword">set</span> ename=<span class="string">'SMITH3'</span> <span class="keyword">where</span> ename = <span class="string">'SMITH2'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--视图封装复杂的查询语句</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> view_test3 <span class="keyword">as</span> <span class="keyword">select</span></span><br><span class="line">      <span class="keyword">sum</span>(cc) <span class="string">"TOTAL"</span>,</span><br><span class="line">      <span class="keyword">sum</span>(<span class="keyword">case</span> yy <span class="keyword">when</span> <span class="string">'1980'</span> <span class="keyword">then</span> cc <span class="keyword">end</span>) <span class="string">"1980"</span>,</span><br><span class="line">      <span class="keyword">sum</span>(<span class="keyword">case</span> yy <span class="keyword">when</span> <span class="string">'1981'</span> <span class="keyword">then</span> cc <span class="keyword">end</span>) <span class="string">"1981"</span>,</span><br><span class="line">      <span class="keyword">sum</span>(<span class="keyword">case</span> yy <span class="keyword">when</span> <span class="string">'1982'</span> <span class="keyword">then</span> cc <span class="keyword">end</span>) <span class="string">"1982"</span>,</span><br><span class="line">      <span class="keyword">sum</span>(<span class="keyword">case</span> yy <span class="keyword">when</span> <span class="string">'1987'</span> <span class="keyword">then</span> cc <span class="keyword">end</span>) <span class="string">"1987"</span></span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">      (<span class="keyword">select</span>  to_char(hiredate,<span class="string">'yyyy'</span>) yy,<span class="keyword">count</span>(<span class="number">1</span>) cc <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span>  to_char(hiredate,<span class="string">'yyyy'</span>)) tt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--同义词的概念</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">synonym</span> dept <span class="keyword">for</span> view_test3;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">synonym</span> yuangong <span class="keyword">for</span> view_test2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> yuangong;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> dept;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> view_test3;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> view_test2;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    序列: 生成类似于 auto_increment 这种ID自动增长 1,2,3,4,5....</span></span><br><span class="line"><span class="comment">       auto_increment 这个是mysql  </span></span><br><span class="line"><span class="comment">       </span></span><br><span class="line"><span class="comment">       语法:</span></span><br><span class="line"><span class="comment">           create sequence 序列的名称</span></span><br><span class="line"><span class="comment">           start with 从几开始</span></span><br><span class="line"><span class="comment">           increment by 每次增长多少</span></span><br><span class="line"><span class="comment">           maxvalue 最大值 | nomaxvalue</span></span><br><span class="line"><span class="comment">           minvalue 最小值 | nominvalue</span></span><br><span class="line"><span class="comment">           cycle | nocycle  是否循环    1,2,3,1,2,3</span></span><br><span class="line"><span class="comment">           cache 缓存的数量3 | nocache  1,2,3,4,5,6 </span></span><br><span class="line"><span class="comment">           </span></span><br><span class="line"><span class="comment">      如何从序列获取值</span></span><br><span class="line"><span class="comment">          currval : 当前值</span></span><br><span class="line"><span class="comment">          nextval : 下一个值</span></span><br><span class="line"><span class="comment">          </span></span><br><span class="line"><span class="comment">               注意: currval 需要在调用nextval之后才能使用      </span></span><br><span class="line"><span class="comment">               </span></span><br><span class="line"><span class="comment">               永不回头,往下取数据, 无论发生异常, 回滚   </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">--创建一个 1,3,5,7,9......30 </span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">sequence</span> seq_test1</span><br><span class="line"><span class="keyword">start</span> <span class="keyword">with</span> <span class="number">1</span></span><br><span class="line"><span class="keyword">increment</span> <span class="keyword">by</span> <span class="number">2</span></span><br><span class="line">maxvalue <span class="number">30</span></span><br><span class="line"><span class="keyword">cycle</span></span><br><span class="line"><span class="keyword">cache</span> <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> seq_test1.nextval <span class="keyword">from</span> dual;</span><br><span class="line"><span class="keyword">select</span> seq_test1.currval <span class="keyword">from</span> dual;</span><br><span class="line"></span><br><span class="line"><span class="comment">--序列用的最多的一种写法</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">sequence</span> seq_test2;</span><br><span class="line"><span class="keyword">select</span> seq_test2.nextval <span class="keyword">from</span> dual;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">sequence</span> seq_test3</span><br><span class="line"><span class="keyword">start</span> <span class="keyword">with</span> <span class="number">1</span></span><br><span class="line"><span class="keyword">increment</span> <span class="keyword">by</span> <span class="number">2</span></span><br><span class="line">maxvalue <span class="number">30</span></span><br><span class="line"><span class="keyword">minvalue</span> <span class="number">0</span></span><br><span class="line"><span class="keyword">cycle</span></span><br><span class="line"><span class="keyword">cache</span> <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> seq_test3.nextval <span class="keyword">from</span> dual;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    索引:相当于是一本书的目录,能够提高我们的查询效率</span></span><br><span class="line"><span class="comment">       如果某一列,你经常用来作为查询条件,那么就有必要创建索引,数据量比较的情况</span></span><br><span class="line"><span class="comment">       </span></span><br><span class="line"><span class="comment">       语法: </span></span><br><span class="line"><span class="comment">             create index 索引的名称 on 表名(列)   </span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">       注意:主键约束自带主键索引, 唯一约束自带唯一索引</span></span><br><span class="line"><span class="comment">       </span></span><br><span class="line"><span class="comment">       索引原理: btree   balance Tree 平衡二叉树</span></span><br><span class="line"><span class="comment">       </span></span><br><span class="line"><span class="comment">             如果某列作为查询条件的时候,可以提高查询效率,但是修改的时候,会变慢</span></span><br><span class="line"><span class="comment">             </span></span><br><span class="line"><span class="comment">             索引创建好之后,过了一段,DBA都会去做重构索引</span></span><br><span class="line"><span class="comment">             </span></span><br><span class="line"><span class="comment">       SQL调优:</span></span><br><span class="line"><span class="comment">             1.查看执行计划F5</span></span><br><span class="line"><span class="comment">             2. 分析里面的cost 和 影响行数, 想办法降低            </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">--五百万数据测试</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> wubaiwan(</span><br><span class="line">      <span class="keyword">name</span> varchar2(<span class="number">30</span>),</span><br><span class="line">      address varchar2(<span class="number">20</span>) </span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> wubaiwan <span class="keyword">values</span>(<span class="string">''</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--插入500000万条数据</span></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">     <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1.</span><span class="number">.5000000</span> <span class="keyword">loop</span></span><br><span class="line">       <span class="keyword">insert</span> <span class="keyword">into</span> wubaiwan <span class="keyword">values</span>(<span class="string">'姓名'</span>||i,<span class="string">'地址'</span>||i);</span><br><span class="line">     <span class="keyword">end</span> <span class="keyword">loop</span>;</span><br><span class="line">     <span class="keyword">commit</span>;  </span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--在没有添加索引的情况下,去查询  name='姓名3000000'  --2.985</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> wubaiwan <span class="keyword">where</span> <span class="keyword">name</span>=<span class="string">'姓名3000000'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--创建索引 name 再去查询 name='姓名3000000'</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">index</span> ind_wubaiwan <span class="keyword">on</span> wubaiwan(<span class="keyword">name</span>);</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> wubaiwan <span class="keyword">where</span> <span class="keyword">name</span>=<span class="string">'姓名3000000'</span>;  <span class="comment">--0.016</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--在没有添加复合索引的情况下,再去查询 name='姓名3000000' and '地址3000000'</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> wubaiwan <span class="keyword">where</span> <span class="keyword">name</span>=<span class="string">'姓名3000000'</span> <span class="keyword">and</span> address=<span class="string">'地址3000000'</span>; <span class="comment">--0.032</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--创建复合索引的情况下, 再去查询</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">index</span> ind_wubaiwan2 <span class="keyword">on</span> wubaiwan(<span class="keyword">name</span>,address);</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> wubaiwan <span class="keyword">where</span> <span class="keyword">name</span>=<span class="string">'姓名3000000'</span> <span class="keyword">and</span> address=<span class="string">'地址3000000'</span>; <span class="comment">--0.015</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">     DDL表空间操作</span></span><br><span class="line"><span class="comment">         创建表空间</span></span><br><span class="line"><span class="comment">         创建用户</span></span><br><span class="line"><span class="comment">         授权</span></span><br><span class="line"><span class="comment">         </span></span><br><span class="line"><span class="comment">         创建表</span></span><br><span class="line"><span class="comment">              子查询创建表</span></span><br><span class="line"><span class="comment">         修改表 : 添加列,删除列,修改列,修改列名, 修改表名</span></span><br><span class="line"><span class="comment">         </span></span><br><span class="line"><span class="comment">         约束:</span></span><br><span class="line"><span class="comment">             主键约束,唯一约束,非空约束,检查约束,外键约束</span></span><br><span class="line"><span class="comment">             </span></span><br><span class="line"><span class="comment">             外键约束:</span></span><br><span class="line"><span class="comment">               强制删除</span></span><br><span class="line"><span class="comment">               级联删除</span></span><br><span class="line"><span class="comment">             </span></span><br><span class="line"><span class="comment">     DML表中数据:</span></span><br><span class="line"><span class="comment">         插入数据</span></span><br><span class="line"><span class="comment">             子查询插入数据</span></span><br><span class="line"><span class="comment">         更新数据</span></span><br><span class="line"><span class="comment">         删除数据: delete 和 truncate</span></span><br><span class="line"><span class="comment">         </span></span><br><span class="line"><span class="comment">         事务操作:</span></span><br><span class="line"><span class="comment">               savepoint 保存点</span></span><br><span class="line"><span class="comment">               rollback to 保存点</span></span><br><span class="line"><span class="comment">          ORACLE事务隔离级别  : READ COMMITTED </span></span><br><span class="line"><span class="comment">          </span></span><br><span class="line"><span class="comment">     视图: 就像窗户一样, 封装查询结果 , 通常视图创建只读视图</span></span><br><span class="line"><span class="comment">     序列: 主要是用来实现ID自增长 </span></span><br><span class="line"><span class="comment">     索引: 相当于是书的目录,能够提高查询效率, 原理 平衡二叉树, 每隔一段时间DBA都需要去重建索引</span></span><br><span class="line"><span class="comment">     同义词: create synonym 名称 for 对象的名称          </span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">     PLSQL编程 : procedure Language 过程语言 Oracle对SQL的一个扩展</span></span><br><span class="line"><span class="comment">             让我们能够像在java中一样写 if else else if 条件, 还可以编写循环逻辑 for while</span></span><br><span class="line"><span class="comment">             </span></span><br><span class="line"><span class="comment">             declare</span></span><br><span class="line"><span class="comment">                --声明变量</span></span><br><span class="line"><span class="comment">                变量名 变量类型;</span></span><br><span class="line"><span class="comment">                变量名 变量类型 := 初始值;</span></span><br><span class="line"><span class="comment">                  vsal emp.sal%type;  --引用型的变量  </span></span><br><span class="line"><span class="comment">                  vrow emp%rowtype;   --声明记录型变量          </span></span><br><span class="line"><span class="comment">             begin</span></span><br><span class="line"><span class="comment">                --业务逻辑</span></span><br><span class="line"><span class="comment">             end;</span></span><br><span class="line"><span class="comment">             </span></span><br><span class="line"><span class="comment">             dbms_output.put_line()相当于java中 syso </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line">   i varchar2(<span class="number">10</span>) := <span class="string">'张三'</span>;          </span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  dbms_output.put_line(i);</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--查询7369的工资,并且打印出来</span></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line">  vsal emp.sal%<span class="keyword">type</span>;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="comment">--将查询出的结果赋值给vsal</span></span><br><span class="line">  <span class="keyword">select</span> sal <span class="keyword">into</span> vsal <span class="keyword">from</span> emp <span class="keyword">where</span> empno = <span class="number">7369</span>;</span><br><span class="line">  </span><br><span class="line">  dbms_output.put_line(vsal);</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--查询7369的员工信息,并且打印出来</span></span><br><span class="line"> <span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> empno = <span class="number">7369</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line">  vrow emp%rowtype;      </span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="keyword">select</span> * <span class="keyword">into</span> vrow <span class="keyword">from</span> emp <span class="keyword">where</span> empno = <span class="number">7369</span>;</span><br><span class="line">  </span><br><span class="line">  dbms_output.put_line('姓名:'||vrow.ename || '工资'|| vrow.sal);</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  PL条件判断</span></span><br><span class="line"><span class="comment">     </span></span><br><span class="line"><span class="comment">     if then</span></span><br><span class="line"><span class="comment">     </span></span><br><span class="line"><span class="comment">     elsif then</span></span><br><span class="line"><span class="comment">       </span></span><br><span class="line"><span class="comment">     else </span></span><br><span class="line"><span class="comment">     </span></span><br><span class="line"><span class="comment">     end if;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">--根据不同年纪,输出相关内容</span></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line">   age <span class="built_in">number</span> := &amp;aaa;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="keyword">if</span> age &lt; <span class="number">18</span> <span class="keyword">then</span></span><br><span class="line">     dbms_output.put_line(<span class="string">'小屁孩'</span>);</span><br><span class="line">  elsif age&gt;=18 and age &lt;=24 then</span><br><span class="line">     dbms_output.put_line('年轻人');</span><br><span class="line">  elsif age&gt;24 and age &lt; 40 then</span><br><span class="line">    dbms_output.put_line('老司机');</span><br><span class="line">  else </span><br><span class="line">      dbms_output.put_line('老年人');    </span><br><span class="line">  <span class="keyword">end</span> <span class="keyword">if</span>;</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  循环操作</span></span><br><span class="line"><span class="comment">  while 循环</span></span><br><span class="line"><span class="comment">      while 条件 loop</span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">      end loop;</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">  for循环</span></span><br><span class="line"><span class="comment">      for 变量  in [reverse] 起始值..结束值 loop</span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">      end loop;</span></span><br><span class="line"><span class="comment">  </span></span><br><span class="line"><span class="comment">  loop循环  </span></span><br><span class="line"><span class="comment">      loop</span></span><br><span class="line"><span class="comment">        exit when 条件</span></span><br><span class="line"><span class="comment">      end loop;</span></span><br><span class="line"><span class="comment">      </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">--输出1~10</span></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line">  i <span class="built_in">number</span> :=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="keyword">while</span> i&lt;=<span class="number">10</span> <span class="keyword">loop</span></span><br><span class="line">    dbms_output.put_line(i);</span><br><span class="line">    i := i+1;    </span><br><span class="line">  <span class="keyword">end</span> <span class="keyword">loop</span>;</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--输出1~10</span></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="keyword">for</span> i <span class="keyword">in</span> <span class="keyword">reverse</span> <span class="number">1.</span><span class="number">.10</span> <span class="keyword">loop</span></span><br><span class="line">    dbms_output.put_line(i);</span><br><span class="line">  <span class="keyword">end</span> <span class="keyword">loop</span>;</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--输出1~10</span></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line">   i <span class="built_in">number</span> :=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">   <span class="keyword">loop</span></span><br><span class="line">     <span class="keyword">exit</span> <span class="keyword">when</span> i&gt;<span class="number">10</span>;</span><br><span class="line">      dbms_output.put_line(i);  </span><br><span class="line">     i := i+1;</span><br><span class="line">   <span class="keyword">end</span> <span class="keyword">loop</span>;</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">   *</span></span><br><span class="line"><span class="comment">  ***</span></span><br><span class="line"><span class="comment"> *****</span></span><br><span class="line"><span class="comment">  ***</span></span><br><span class="line"><span class="comment">   *   </span></span><br><span class="line"><span class="comment">输出 m  </span></span><br><span class="line"><span class="comment">   x : [-m,m]</span></span><br><span class="line"><span class="comment">   y : [-m,m]</span></span><br><span class="line"><span class="comment">   </span></span><br><span class="line"><span class="comment">   输出所有满足条件的 : abs(y)+abs(x) &lt;=m</span></span><br><span class="line"><span class="comment">   </span></span><br><span class="line"><span class="comment">   m取值</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">--使用PLSQL输出菱形</span></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line">   m <span class="built_in">number</span> := <span class="number">10</span>;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">   <span class="keyword">for</span> x <span class="keyword">in</span> -m..m <span class="keyword">loop</span></span><br><span class="line">     <span class="keyword">for</span> y <span class="keyword">in</span> -m..m <span class="keyword">loop</span></span><br><span class="line">       <span class="keyword">if</span> <span class="keyword">abs</span>(y) + <span class="keyword">abs</span>(x) &lt;= m <span class="keyword">then</span></span><br><span class="line">         dbms_output.put(<span class="string">'*'</span>);</span><br><span class="line">       else</span><br><span class="line">         dbms_output.put(' ');</span><br><span class="line">       <span class="keyword">end</span> <span class="keyword">if</span>;      </span><br><span class="line">     <span class="keyword">end</span> <span class="keyword">loop</span>;</span><br><span class="line">     dbms_output.new_line();</span><br><span class="line">   <span class="keyword">end</span> <span class="keyword">loop</span>;  </span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--使用PLSQL输出三角形,只要是三个角</span></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line">   m <span class="built_in">number</span> := <span class="number">10</span>;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">   <span class="keyword">for</span> x <span class="keyword">in</span> <span class="keyword">reverse</span> -m..m <span class="keyword">loop</span></span><br><span class="line">     <span class="keyword">for</span> y <span class="keyword">in</span> -m..m <span class="keyword">loop</span></span><br><span class="line">       <span class="keyword">if</span> <span class="keyword">abs</span>(y) + <span class="keyword">abs</span>(x) &lt;= m <span class="keyword">and</span> x&gt;=<span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">         dbms_output.put(<span class="string">'*'</span>);</span><br><span class="line">       else</span><br><span class="line">         dbms_output.put(' ');</span><br><span class="line">       <span class="keyword">end</span> <span class="keyword">if</span>;      </span><br><span class="line">     <span class="keyword">end</span> <span class="keyword">loop</span>;</span><br><span class="line">     dbms_output.new_line();</span><br><span class="line">   <span class="keyword">end</span> <span class="keyword">loop</span>;  </span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure>
<h2 id="第四天"><a href="#第四天" class="headerlink" title="第四天:"></a>第四天:</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  序列: ORACLE使用来模拟ID自动增长的</span></span><br><span class="line"><span class="comment">  </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">sequence</span> seq_test4;</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> test2(</span><br><span class="line">   tid <span class="built_in">number</span> primary <span class="keyword">key</span>,</span><br><span class="line">   tname varchar2(<span class="number">10</span>)    </span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> test2 <span class="keyword">values</span>(seq_test4.nextval,<span class="string">'张三'</span>);</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> test2;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">       PLSQL编程: 过程语言,编写一些复杂业务逻辑  </span></span><br><span class="line"><span class="comment">       </span></span><br><span class="line"><span class="comment">       输出星号:</span></span><br><span class="line"><span class="comment">                abs(y) + abs(x) &lt;= m   </span></span><br><span class="line"><span class="comment">                </span></span><br><span class="line"><span class="comment">       vsal  emp.sal%type --引用型变量</span></span><br><span class="line"><span class="comment">       row  emp%rowtype  --记录型变量</span></span><br><span class="line"><span class="comment">       </span></span><br><span class="line"><span class="comment">       select sal into vsal from emp where empno=7788;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line">   m <span class="built_in">number</span> := <span class="number">3</span>;             </span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">   <span class="keyword">for</span> y <span class="keyword">in</span> -m..m <span class="keyword">loop</span></span><br><span class="line">     <span class="keyword">for</span> x <span class="keyword">in</span> -m..m <span class="keyword">loop</span></span><br><span class="line">         <span class="keyword">if</span> <span class="keyword">abs</span>(y) + <span class="keyword">abs</span>(x) &lt;= m <span class="keyword">then</span></span><br><span class="line">            dbms_output.put(<span class="string">'*'</span>);</span><br><span class="line">         else  </span><br><span class="line">            dbms_output.put(' ');  </span><br><span class="line">         <span class="keyword">end</span> <span class="keyword">if</span>;</span><br><span class="line">     <span class="keyword">end</span> <span class="keyword">loop</span>;</span><br><span class="line">     dbms_output.new_line();</span><br><span class="line">   <span class="keyword">end</span> <span class="keyword">loop</span>;  </span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">   游标(光标): 是用来操作查询结果集,相当于是JDBC中ResultSet</span></span><br><span class="line"><span class="comment">       </span></span><br><span class="line"><span class="comment">       语法: cursor 游标名[(参数名 参数类型)] is 查询结果集</span></span><br><span class="line"><span class="comment">       </span></span><br><span class="line"><span class="comment">       开发步骤:</span></span><br><span class="line"><span class="comment">           1. 声明游标</span></span><br><span class="line"><span class="comment">           2. 打开游标       open 游标名</span></span><br><span class="line"><span class="comment">           3. 从游标中取数据  fetch 游标名 into 变量</span></span><br><span class="line"><span class="comment">                         游标名%found :找到数据</span></span><br><span class="line"><span class="comment">                         游标名%notfound : 没有找到数据 </span></span><br><span class="line"><span class="comment">           4. 关闭游标       close 游标名</span></span><br><span class="line"><span class="comment">           </span></span><br><span class="line"><span class="comment">      系统引用游标</span></span><br><span class="line"><span class="comment">           1. 声明游标 : 游标名 sys_refcursor</span></span><br><span class="line"><span class="comment">           2. 打开游标: open 游标名 for 结果集</span></span><br><span class="line"><span class="comment">           3. 从游标中取数据</span></span><br><span class="line"><span class="comment">           4. 关闭游标</span></span><br><span class="line"><span class="comment">                </span></span><br><span class="line"><span class="comment">     for循环遍历游标:</span></span><br><span class="line"><span class="comment">           不需要声明额外变量</span></span><br><span class="line"><span class="comment">           不需要打开游标</span></span><br><span class="line"><span class="comment">           不需要关闭游标      </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">--输出员工表中所有的员工姓名和工资(不带参数游标)</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">   游标:所有员工</span></span><br><span class="line"><span class="comment">   声明一个变量,用来记录一行数据  %rowtype</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line">   <span class="comment">--游标</span></span><br><span class="line">   <span class="keyword">cursor</span> vrows <span class="keyword">is</span> <span class="keyword">select</span> * <span class="keyword">from</span> emp;</span><br><span class="line">   <span class="comment">--s声明变量,记录一行数据</span></span><br><span class="line">   vrow emp%rowtype;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">   <span class="comment">--1.打开游标  </span></span><br><span class="line">   <span class="keyword">open</span> vrows;</span><br><span class="line">   <span class="comment">--2.从游标提取数据</span></span><br><span class="line">   <span class="comment">--循环取数据</span></span><br><span class="line">   loop</span><br><span class="line">       fetch vrows into vrow; </span><br><span class="line">       exit when vrows%notfound;  </span><br><span class="line">       dbms_output.put_line('姓名:'||vrow.ename ||' 工资: ' || vrow.sal);</span><br><span class="line">   <span class="keyword">end</span> <span class="keyword">loop</span>;</span><br><span class="line">   <span class="comment">--3.关闭游标</span></span><br><span class="line">   close vrows;</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--输出指定部门下的员工姓名和工资</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">   游标: 指定部门的所有员工</span></span><br><span class="line"><span class="comment">   声明一个变量记录一行数据</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line">   <span class="comment">--声明游标</span></span><br><span class="line">   <span class="keyword">cursor</span> vrows(dno <span class="built_in">number</span>) <span class="keyword">is</span> <span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> deptno = dno;</span><br><span class="line">   <span class="comment">--声明变量</span></span><br><span class="line">   vrow emp%rowtype;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="comment">--1.打开游标 , 指定10号部门</span></span><br><span class="line">  <span class="keyword">open</span> vrows(<span class="number">10</span>);</span><br><span class="line">  <span class="comment">--2. 循环遍历,取数据</span></span><br><span class="line">  loop</span><br><span class="line">     fetch vrows into vrow;</span><br><span class="line">     exit when vrows%notfound;    </span><br><span class="line">      dbms_output.put_line('姓名:'||vrow.ename ||' 工资: ' || vrow.sal);</span><br><span class="line">  <span class="keyword">end</span> <span class="keyword">loop</span>;</span><br><span class="line">  close vrows;</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--系统引用游标</span></span><br><span class="line"><span class="comment">--输出员工表中所有的员工姓名和工资</span></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line">  <span class="comment">--声明系统引用游标</span></span><br><span class="line">  vrows sys_refcursor;</span><br><span class="line">  <span class="comment">--声明一个变量</span></span><br><span class="line">  vrow emp%rowtype;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="comment">--1.打开游标</span></span><br><span class="line">  <span class="keyword">open</span> vrows <span class="keyword">for</span> <span class="keyword">select</span> * <span class="keyword">from</span> emp;</span><br><span class="line">  <span class="comment">--2.取数据</span></span><br><span class="line">  loop</span><br><span class="line">    fetch vrows into vrow;</span><br><span class="line">    exit when vrows%notfound;</span><br><span class="line">     dbms_output.put_line('姓名:'||vrow.ename ||' 工资: ' || vrow.sal);</span><br><span class="line">  <span class="keyword">end</span> <span class="keyword">loop</span>;</span><br><span class="line">  close vrows;</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--扩展内容----使用for循环遍历游标</span></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line">  <span class="comment">--声明一个游标</span></span><br><span class="line">  <span class="keyword">cursor</span> vrows <span class="keyword">is</span> <span class="keyword">select</span> * <span class="keyword">from</span> emp;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="keyword">for</span> vrow <span class="keyword">in</span> vrows <span class="keyword">loop</span></span><br><span class="line">     dbms_output.put_line(<span class="string">'姓名:'</span>||vrow.ename ||<span class="string">' 工资: '</span> || vrow.sal || <span class="string">'工作:'</span>|| vrow.job);</span><br><span class="line">  <span class="keyword">end</span> <span class="keyword">loop</span>;</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--按照员工工作给所有员工涨工资,总裁涨1000,经理涨800,其他人涨400</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    游标 : 所有员工</span></span><br><span class="line"><span class="comment">    声明一个记录一行数据   </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line">   <span class="comment">--声明游标</span></span><br><span class="line">   <span class="keyword">cursor</span> vrows <span class="keyword">is</span> <span class="keyword">select</span> * <span class="keyword">from</span> emp;</span><br><span class="line">   <span class="comment">--声明一个变量</span></span><br><span class="line">   vrow emp%rowtype; </span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="comment">--1.打开游标</span></span><br><span class="line">  <span class="keyword">open</span> vrows;</span><br><span class="line">  <span class="comment">--2.循环取数据</span></span><br><span class="line">  loop</span><br><span class="line">       <span class="comment">--取数据</span></span><br><span class="line">       fetch vrows into vrow;</span><br><span class="line">       <span class="comment">--退出条件</span></span><br><span class="line">       exit when vrows%notfound;  </span><br><span class="line">       <span class="comment">--根据不同的职位,涨工资 总裁涨1000,经理涨800,其他人涨400</span></span><br><span class="line">       if vrow.job = 'PRESIDENT' then</span><br><span class="line">          <span class="keyword">update</span> emp <span class="keyword">set</span> sal = sal + <span class="number">1000</span> <span class="keyword">where</span> empno = vrow.empno;</span><br><span class="line">       elsif vrow.job = 'MANAGER' then</span><br><span class="line">          <span class="keyword">update</span> emp <span class="keyword">set</span> sal = sal + <span class="number">800</span> <span class="keyword">where</span> empno = vrow.empno;</span><br><span class="line">       else</span><br><span class="line">          <span class="keyword">update</span> emp <span class="keyword">set</span> sal = sal + <span class="number">400</span> <span class="keyword">where</span> empno = vrow.empno; </span><br><span class="line">       <span class="keyword">end</span> <span class="keyword">if</span>;       </span><br><span class="line">  <span class="keyword">end</span> <span class="keyword">loop</span>;</span><br><span class="line">  <span class="comment">--3.关闭游标</span></span><br><span class="line">  close vrows;</span><br><span class="line">  <span class="comment">--4.提交事务</span></span><br><span class="line">  <span class="keyword">commit</span>;</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">   例外:(意外)程序运行的过程发生异常,相当于是JAVA中的异常</span></span><br><span class="line"><span class="comment">   </span></span><br><span class="line"><span class="comment">   declare</span></span><br><span class="line"><span class="comment">       --声明变量</span></span><br><span class="line"><span class="comment">   begin</span></span><br><span class="line"><span class="comment">       --业务逻辑</span></span><br><span class="line"><span class="comment">   exception</span></span><br><span class="line"><span class="comment">       --处理异常</span></span><br><span class="line"><span class="comment">       when 异常1 then</span></span><br><span class="line"><span class="comment">         ...</span></span><br><span class="line"><span class="comment">       when 异常2 then</span></span><br><span class="line"><span class="comment">         ...</span></span><br><span class="line"><span class="comment">       when others then</span></span><br><span class="line"><span class="comment">         ...处理其它异常</span></span><br><span class="line"><span class="comment">   end;</span></span><br><span class="line"><span class="comment">   </span></span><br><span class="line"><span class="comment">   zero_divide : 除零异常</span></span><br><span class="line"><span class="comment">   value_error : 类型转换异常</span></span><br><span class="line"><span class="comment">   too_many_rows : 查询出多行记录,但是赋值给了rowtype记录一行数据变量</span></span><br><span class="line"><span class="comment">   no_data_found : 没有找到数据</span></span><br><span class="line"><span class="comment">       </span></span><br><span class="line"><span class="comment">   </span></span><br><span class="line"><span class="comment">   自定义异常:</span></span><br><span class="line"><span class="comment">       异常名  exception;</span></span><br><span class="line"><span class="comment">       raise 异常名          </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line">   vi <span class="built_in">number</span>;</span><br><span class="line">   vrow emp%rowtype;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">   <span class="comment">--vi := 8/0;  </span></span><br><span class="line">   <span class="comment">--vi := 'aaa';</span></span><br><span class="line">   <span class="comment">--select * into vrow from emp;</span></span><br><span class="line">   <span class="keyword">select</span> * <span class="keyword">into</span> vrow <span class="keyword">from</span> emp <span class="keyword">where</span> empno=<span class="number">1234567</span>;</span><br><span class="line">exception</span><br><span class="line">  when zero_divide then</span><br><span class="line">    dbms_output.put_line('发生了除零异常');</span><br><span class="line">  when value_error then</span><br><span class="line">     dbms_output.put_line('发生了类型转换异常');</span><br><span class="line">  when too_many_rows then</span><br><span class="line">    dbms_output.put_line(' 查询出多行记录,但是赋值给了rowtype记录一行数据变量');</span><br><span class="line">  when no_data_found then</span><br><span class="line">    dbms_output.put_line('没有找到数据异常');</span><br><span class="line">  when others then</span><br><span class="line">     dbms_output.put_line('发生了其它异常' || sqlerrm);     </span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--查询指定编号的员工,如果没有找到,则抛出自定义的异常</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">     --错误的演示</span></span><br><span class="line"><span class="comment">     </span></span><br><span class="line"><span class="comment">     1.声明一个变量 %rowtype</span></span><br><span class="line"><span class="comment">     2.查询员工信息,保存起来</span></span><br><span class="line"><span class="comment">     3.判断员工信息是否为空</span></span><br><span class="line"><span class="comment">     4. 如果是 则抛出异常</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line">  <span class="comment">--   1.声明一个变量 %rowtype</span></span><br><span class="line">  vrow emp%rowtype;</span><br><span class="line">  <span class="comment">--2 .声明一个自定义的异常</span></span><br><span class="line">  no_emp exception;  </span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="comment">--查询员工信息,保存起来</span></span><br><span class="line">  <span class="keyword">select</span> * <span class="keyword">into</span> vrow <span class="keyword">from</span> emp <span class="keyword">where</span> empno = <span class="number">8888</span>;   <span class="comment">--抛出异常</span></span><br><span class="line">  </span><br><span class="line">  if vrow.sal is null then</span><br><span class="line">    raise no_emp; <span class="comment">--抛出自定义的异常</span></span><br><span class="line">  <span class="keyword">end</span> <span class="keyword">if</span>;</span><br><span class="line">exception</span><br><span class="line">  when no_emp then</span><br><span class="line">     dbms_output.put_line('输出了自定义的异常');  </span><br><span class="line">  when others then</span><br><span class="line">     dbms_output.put_line('输出了其它异常'||sqlerrm);  </span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--查询指定编号的员工,如果没有找到,则抛出自定义的异常</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">     游标来判断</span></span><br><span class="line"><span class="comment">       %found %notfound</span></span><br><span class="line"><span class="comment">    声明一个游标</span></span><br><span class="line"><span class="comment">    声明一个变量,记录数据</span></span><br><span class="line"><span class="comment">    从游标中取记录</span></span><br><span class="line"><span class="comment">       如果有,则不管它</span></span><br><span class="line"><span class="comment">       如果没有就抛出自定义的异常</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line">  <span class="comment">--声明游标</span></span><br><span class="line">  <span class="keyword">cursor</span> vrows <span class="keyword">is</span> <span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> empno=<span class="number">8888</span>;   </span><br><span class="line">  <span class="comment">--声明一个记录型变量</span></span><br><span class="line">  vrow emp%rowtype;</span><br><span class="line">  <span class="comment">--声明一个自定义异常</span></span><br><span class="line">  no_emp exception;  </span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="comment">--1.打开游标</span></span><br><span class="line">  <span class="keyword">open</span> vrows;</span><br><span class="line">  <span class="comment">--2.取数据</span></span><br><span class="line">  fetch vrows into vrow;</span><br><span class="line">  <span class="comment">--3.判断游标是否有数据</span></span><br><span class="line">  if vrows%notfound then</span><br><span class="line">    raise no_emp;</span><br><span class="line">  <span class="keyword">end</span> <span class="keyword">if</span>;</span><br><span class="line">  close vrows;</span><br><span class="line">exception</span><br><span class="line">  when no_emp then</span><br><span class="line">    dbms_output.put_line('发生了自定义的异常');</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    存储过程: 实际上是封装在服务器上一段PLSQL代码片断,已经编译好了的代码</span></span><br><span class="line"><span class="comment">              1.客户端取调用存储过程,执行效率就会非常高效</span></span><br><span class="line"><span class="comment">         语法:</span></span><br><span class="line"><span class="comment">              create [or replace] procedure 存储过程的名称(参数名 in|out 参数类型,参数名 in|out 参数类型)</span></span><br><span class="line"><span class="comment">              is | as</span></span><br><span class="line"><span class="comment">               --声明部分</span></span><br><span class="line"><span class="comment">              begin</span></span><br><span class="line"><span class="comment">               --业务逻辑 </span></span><br><span class="line"><span class="comment">              end; </span></span><br><span class="line"><span class="comment">             </span></span><br><span class="line"><span class="comment">              </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">--给指定员工涨薪,并打印涨薪前和涨薪后的工资</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    参数 : in 员工编号</span></span><br><span class="line"><span class="comment">    参数 : in 涨多少</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">    声明一个变量 : 存储涨工资前的工资</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">    查询出当前是多少</span></span><br><span class="line"><span class="comment">    打印涨薪前的工资</span></span><br><span class="line"><span class="comment">    更新工资</span></span><br><span class="line"><span class="comment">    打印涨薪后的工资          </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> <span class="keyword">replace</span> <span class="keyword">procedure</span> proc_updatesal(vempno <span class="keyword">in</span> <span class="built_in">number</span>,vnum <span class="keyword">in</span> <span class="built_in">number</span>)</span><br><span class="line"><span class="keyword">is</span></span><br><span class="line">   <span class="comment">--声明变量.记录当前工资</span></span><br><span class="line">   vsal <span class="built_in">number</span>;    </span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="comment">--查询当前的工资</span></span><br><span class="line">  <span class="keyword">select</span> sal <span class="keyword">into</span> vsal <span class="keyword">from</span> emp <span class="keyword">where</span> empno = vempno;</span><br><span class="line">  <span class="comment">--输出涨薪前的工资</span></span><br><span class="line">  dbms_output.put_line('涨薪前:'||vsal);</span><br><span class="line">  <span class="comment">--更新工资</span></span><br><span class="line">  <span class="keyword">update</span> emp <span class="keyword">set</span> sal = vsal + vnum <span class="keyword">where</span> empno = vempno;</span><br><span class="line">  <span class="comment">--输出涨薪后的工资</span></span><br><span class="line">  dbms_output.put_line('涨薪后:'||(vsal+vnum));</span><br><span class="line">  <span class="comment">--提交</span></span><br><span class="line">  <span class="keyword">commit</span>;</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--方式1</span></span><br><span class="line"><span class="keyword">call</span> proc_updatesal(<span class="number">7788</span>,<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">--方式2 用的最多的方式</span></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  proc_updatesal(<span class="number">7788</span>,<span class="number">-100</span>);</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  存储函数: 实际上是一段封装是Oracle服务器中的一段PLSQL代码片断,它是已经编译好了的代码片段</span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">        语法: </span></span><br><span class="line"><span class="comment">             create [or replace] function 存储函数的名称(参数名 in|out 参数类型,参数名 in|out 参数类型) return 参数类型</span></span><br><span class="line"><span class="comment">             is | as</span></span><br><span class="line"><span class="comment">             </span></span><br><span class="line"><span class="comment">             begin</span></span><br><span class="line"><span class="comment">               </span></span><br><span class="line"><span class="comment">             end;</span></span><br><span class="line"><span class="comment">        存储过程和函数的区别:</span></span><br><span class="line"><span class="comment">             1.它们本质上没有区别</span></span><br><span class="line"><span class="comment">             2.函数存在的意义是给过程调用   存储过程里面调用存储函数</span></span><br><span class="line"><span class="comment">             3.函数可以在sql语句里面直接调用</span></span><br><span class="line"><span class="comment">             4.存储过程能实现的,存储函数也能实现,存储函数能实现的,过程也能实现</span></span><br><span class="line"><span class="comment">             </span></span><br><span class="line"><span class="comment">        默认是 in       </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">--查询指定员工的年薪</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    参数 : 员工的编号</span></span><br><span class="line"><span class="comment">    返回 : 年薪          </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> <span class="keyword">replace</span> <span class="keyword">function</span> func_getsal(vempno <span class="built_in">number</span>) <span class="keyword">return</span> <span class="built_in">number</span></span><br><span class="line"><span class="keyword">is</span></span><br><span class="line">  <span class="comment">--声明变量.保存年薪</span></span><br><span class="line">  vtotalsal <span class="built_in">number</span>;     </span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="keyword">select</span> sal*<span class="number">12</span> + nvl(comm,<span class="number">0</span>) <span class="keyword">into</span> vtotalsal <span class="keyword">from</span> emp <span class="keyword">where</span> empno = vempno;</span><br><span class="line">  return vtotalsal;</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--调用存储函数</span></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line">  vsal <span class="built_in">number</span>;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  vsal := func_getsal(<span class="number">7788</span>);</span><br><span class="line">  dbms_output.put_line(vsal);</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--查询员工的姓名,和他的年薪</span></span><br><span class="line"><span class="keyword">select</span> ename,func_getsal(empno) <span class="keyword">from</span> emp;</span><br><span class="line"><span class="comment">--查询员工的姓名和部门的名称</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--查询指定员工的年薪--存储过程来实现</span></span><br><span class="line"><span class="comment">--参数: 员工编号</span></span><br><span class="line"><span class="comment">--输出: 年薪</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> <span class="keyword">replace</span> <span class="keyword">procedure</span> proc_gettotalsal(vempno <span class="keyword">in</span> <span class="built_in">number</span>,vtotalsal <span class="keyword">out</span> <span class="built_in">number</span>)</span><br><span class="line"><span class="keyword">is</span></span><br><span class="line">       </span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="keyword">select</span> sal*<span class="number">12</span> + nvl(comm,<span class="number">0</span>) <span class="keyword">into</span> vtotalsal <span class="keyword">from</span> emp <span class="keyword">where</span> empno = vempno;</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line">  vtotal <span class="built_in">number</span>;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  proc_gettotalsal(<span class="number">7788</span>,vtotal);</span><br><span class="line">  dbms_output.put_line('年薪:'||vtotal);</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> *  <span class="keyword">from</span> emp <span class="keyword">where</span> empno = <span class="number">8888</span>; </span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    JAVA调用存储过程</span></span><br><span class="line"><span class="comment">       JDBC的开发步骤:</span></span><br><span class="line"><span class="comment">          1.导入驱动包</span></span><br><span class="line"><span class="comment">          2.注册驱动</span></span><br><span class="line"><span class="comment">          3.获取连接</span></span><br><span class="line"><span class="comment">          4.获取执行SQL的statement</span></span><br><span class="line"><span class="comment">          5.封装参数</span></span><br><span class="line"><span class="comment">          6.执行SQL</span></span><br><span class="line"><span class="comment">          7.获取结果</span></span><br><span class="line"><span class="comment">          8.释放资源   </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">   封装一个存储过程 : 输出所有表中的记录</span></span><br><span class="line"><span class="comment">   </span></span><br><span class="line"><span class="comment">   输出类型 : 游标  </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> <span class="keyword">replace</span> <span class="keyword">procedure</span> proc_getemps(vrows <span class="keyword">out</span> sys_refcursor)</span><br><span class="line"><span class="keyword">is</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="comment">--1.打开游标, 给游标赋值</span></span><br><span class="line">  <span class="keyword">open</span> vrows <span class="keyword">for</span> <span class="keyword">select</span> * <span class="keyword">from</span> emp;</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">   触发器: 当用户执行了 insert | update | delete 这些操作之后, 可以触发一系列其它的动作/业务逻辑</span></span><br><span class="line"><span class="comment">       作用 : </span></span><br><span class="line"><span class="comment">            在动作执行之前或者之后,触发业务处理逻辑</span></span><br><span class="line"><span class="comment">            插入数据,做一些校验</span></span><br><span class="line"><span class="comment">            </span></span><br><span class="line"><span class="comment">       语法:</span></span><br><span class="line"><span class="comment">           create [or replace] trigger 触发器的名称</span></span><br><span class="line"><span class="comment">           before | after</span></span><br><span class="line"><span class="comment">           insert | update | delete </span></span><br><span class="line"><span class="comment">           on 表名</span></span><br><span class="line"><span class="comment">           [for each row]</span></span><br><span class="line"><span class="comment">           declare</span></span><br><span class="line"><span class="comment">           </span></span><br><span class="line"><span class="comment">           begin</span></span><br><span class="line"><span class="comment">             </span></span><br><span class="line"><span class="comment">           end;</span></span><br><span class="line"><span class="comment">           </span></span><br><span class="line"><span class="comment">       触发器的分类:</span></span><br><span class="line"><span class="comment">           语句级触发器:   不管影响多少行, 都只会执行一次</span></span><br><span class="line"><span class="comment">           </span></span><br><span class="line"><span class="comment">           行级触发器:     影响多少行,就触发多少次</span></span><br><span class="line"><span class="comment">                  :old  代表旧的记录, 更新前的记录</span></span><br><span class="line"><span class="comment">                  :new  代表的是新的记录</span></span><br><span class="line"><span class="comment">       </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">--新员工入职之后,输出一句话: 欢迎加入黑马程序员</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> <span class="keyword">replace</span> <span class="keyword">trigger</span> tri_test1</span><br><span class="line"><span class="keyword">after</span></span><br><span class="line"><span class="keyword">insert</span></span><br><span class="line"><span class="keyword">on</span> emp</span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  dbms_output.put_line(<span class="string">'欢迎加入黑马程序员'</span>);</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> emp(empno,ename) <span class="keyword">values</span>(<span class="number">9527</span>,<span class="string">'HUAAN'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">--数据校验, 星期六老板不在, 不能办理新员工入职</span></span><br><span class="line"><span class="comment">--在插入数据之前</span></span><br><span class="line"><span class="comment">--判断当前日期是否是周六</span></span><br><span class="line"><span class="comment">--如果是周六,就不能插入</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> <span class="keyword">replace</span> <span class="keyword">trigger</span> tri_test2</span><br><span class="line"><span class="keyword">before</span></span><br><span class="line"><span class="keyword">insert</span> </span><br><span class="line"><span class="keyword">on</span> emp</span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line"> <span class="comment">--声明变量</span></span><br><span class="line"> vday varchar2(<span class="number">10</span>);</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="comment">--查询当前</span></span><br><span class="line">  <span class="keyword">select</span> <span class="keyword">trim</span>(to_char(<span class="keyword">sysdate</span>,<span class="string">'day'</span>)) <span class="keyword">into</span> vday <span class="keyword">from</span> dual;</span><br><span class="line">  <span class="comment">--判断当前日期:</span></span><br><span class="line">  if vday = 'saturday' then</span><br><span class="line">     dbms_output.put_line('老板不在,不能办理入职');</span><br><span class="line">     <span class="comment">--抛出系统异常</span></span><br><span class="line">     raise_application_error(-20001,'老板不在,不能办理入职');</span><br><span class="line">  <span class="keyword">end</span> <span class="keyword">if</span>;</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> emp(empno,ename) <span class="keyword">values</span>(<span class="number">9528</span>,<span class="string">'HUAAN2'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">--更新所有的工资 输出一句话</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> <span class="keyword">replace</span> <span class="keyword">trigger</span> tri_test3</span><br><span class="line"><span class="keyword">after</span></span><br><span class="line"><span class="keyword">update</span></span><br><span class="line"><span class="keyword">on</span> emp </span><br><span class="line"><span class="keyword">for</span> <span class="keyword">each</span> <span class="keyword">row</span></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  dbms_output.put_line(<span class="string">'更新了数据'</span>);</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">update</span> emp <span class="keyword">set</span> sal = sal+<span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--判断员工涨工资后的工资一定要大于涨工资前的工资</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">   200 --&gt; 100</span></span><br><span class="line"><span class="comment">   触发器 : before</span></span><br><span class="line"><span class="comment">      旧的工资 </span></span><br><span class="line"><span class="comment">      新的工资</span></span><br><span class="line"><span class="comment">      如果旧的工资大于新的工资 , 抛出异常,不让它执行成功   </span></span><br><span class="line"><span class="comment">      </span></span><br><span class="line"><span class="comment">      </span></span><br><span class="line"><span class="comment">   触发器中不能提交事务,也不能回滚事务 </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> <span class="keyword">replace</span> <span class="keyword">trigger</span> tri_updatesal</span><br><span class="line"><span class="keyword">before</span></span><br><span class="line"><span class="keyword">update</span></span><br><span class="line"><span class="keyword">on</span> emp</span><br><span class="line"><span class="keyword">for</span> <span class="keyword">each</span> <span class="keyword">row</span></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="keyword">if</span> :old.sal &gt; :new.sal <span class="keyword">then</span></span><br><span class="line">    raise_application_error(<span class="number">-20002</span>,<span class="string">'旧的工资不能大于新的工资'</span>);</span><br><span class="line">  <span class="keyword">end</span> <span class="keyword">if</span>;</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">update</span> emp <span class="keyword">set</span> sal = sal + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">update</span> emp <span class="keyword">set</span> sal = sal - <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">   模拟mysql中ID的自增属性 auto_increment </span></span><br><span class="line"><span class="comment">   insert into person(null,'张三');  </span></span><br><span class="line"><span class="comment">   </span></span><br><span class="line"><span class="comment">   触发器:</span></span><br><span class="line"><span class="comment">   </span></span><br><span class="line"><span class="comment">   pid=1  insert  pid=1</span></span><br><span class="line"><span class="comment">   </span></span><br><span class="line"><span class="comment">   序列 : create sequence seq_person_pid;       </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> person(</span><br><span class="line">    pid <span class="built_in">number</span> primary <span class="keyword">key</span>,</span><br><span class="line">    pname varchar2(<span class="number">20</span>)   </span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> person <span class="keyword">values</span>(<span class="literal">null</span>,<span class="string">'张三'</span>); </span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">sequence</span> seq_person_pid;</span><br><span class="line"></span><br><span class="line"><span class="comment">--触发器</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> <span class="keyword">replace</span> <span class="keyword">trigger</span> tri_add_person_pid</span><br><span class="line"><span class="keyword">before</span></span><br><span class="line"><span class="keyword">insert</span></span><br><span class="line"><span class="keyword">on</span> person</span><br><span class="line"><span class="keyword">for</span> <span class="keyword">each</span> <span class="keyword">row</span></span><br><span class="line"><span class="keyword">declare</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  dbms_output.put_line(:new.pname);</span><br><span class="line">  <span class="comment">--给新记录 pid 赋值</span></span><br><span class="line">  <span class="keyword">select</span> seq_person_pid.nextval <span class="keyword">into</span> :new.pid <span class="keyword">from</span> dual;</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> person <span class="keyword">values</span>(<span class="literal">null</span>,<span class="string">'张三'</span>); </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> person;</span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/开发工具/">开发工具</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Oracle/">Oracle</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-MySql复习" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2018/11/02/MySql复习/" class="article-date">
      <time datetime="2018-11-02T14:35:37.000Z" itemprop="datePublished">2018-11-02</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2018/11/02/MySql复习/">MySql复习</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <p> <strong>仰望星空,脚踏实地</strong><excerpt in="" index="" |="" 首页摘要=""></excerpt></p>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/开发工具/">开发工具</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MySql/">MySql</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a   href="/2018/11/02/MySql复习/#more">查看更多 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-IEDA高效使用" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2018/10/25/IEDA高效使用/" class="article-date">
      <time datetime="2018-10-25T14:35:37.000Z" itemprop="datePublished">2018-10-25</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2018/10/25/IEDA高效使用/">Java  基础大复习</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <p> <strong>读书,健身,努力工作,关心身体,保持好心情,成为最棒的自己!</strong><excerpt in="" index="" |="" 首页摘要=""></excerpt></p>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/开发工具/">开发工具</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/">java</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a   href="/2018/10/25/IEDA高效使用/#more">查看更多 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-Java基础大复习" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2018/10/24/Java基础大复习/" class="article-date">
      <time datetime="2018-10-24T14:35:37.000Z" itemprop="datePublished">2018-10-24</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2018/10/24/Java基础大复习/">Java  基础大复习</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <p> <strong>读书,健身,努力工作,关心身体,保持好心情,成为最棒的自己!</strong><excerpt in="" index="" |="" 首页摘要=""><br> 复习下Java基础!</excerpt></p>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/开发工具/">开发工具</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/">java</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a   href="/2018/10/24/Java基础大复习/#more">查看更多 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-并查集(Union Find)" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2018/10/22/并查集(Union Find)/" class="article-date">
      <time datetime="2018-10-22T14:35:37.000Z" itemprop="datePublished">2018-10-22</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2018/10/22/并查集(Union Find)/">并查集(Union Find)</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <p> <strong>仰望星空,脚踏实地,暗无天日,登峰造极</strong><excerpt in="" index="" |="" 首页摘要=""><br>学习算法思想,修炼编程内功!</excerpt></p>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/算法学习/">算法学习</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/算法/">算法</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a   href="/2018/10/22/并查集(Union Find)/#more">查看更多 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-用第三方sdk解决微信授权" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2018/10/22/用第三方sdk解决微信授权/" class="article-date">
      <time datetime="2018-10-22T14:35:37.000Z" itemprop="datePublished">2018-10-22</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2018/10/22/用第三方sdk解决微信授权/">用第三方sdk解决微信授权</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <p> <strong>好身材才是男人最美丽的衣服</strong><excerpt in="" index="" |="" 首页摘要=""><br> 运用sdk快速解决微信授权,解决大量的微信文档!</excerpt></p>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/开发工具/">开发工具</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/">java</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a   href="/2018/10/22/用第三方sdk解决微信授权/#more">查看更多 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-SpringMvc的一些方法" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2018/10/22/SpringMvc的一些方法/" class="article-date">
      <time datetime="2018-10-21T16:00:00.000Z" itemprop="datePublished">2018-10-22</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2018/10/22/SpringMvc的一些方法/">SpringMvc的一些方法</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <p><strong> 失败者找理由,成功者找方法!</strong> <excerpt in="" index="" |="" 首页摘要=""><br>对SpringMvc的一些常用方法<br>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/开源框架/">开源框架</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/">java</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a   href="/2018/10/22/SpringMvc的一些方法/#more">查看更多 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-二分搜索树(Binary Seacher  Tree)" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2018/10/14/二分搜索树(Binary Seacher  Tree)/" class="article-date">
      <time datetime="2018-10-14T14:35:37.000Z" itemprop="datePublished">2018-10-14</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2018/10/14/二分搜索树(Binary Seacher  Tree)/">二分搜索树(Binary Seacher  Tree)</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <p> <strong>仰望星空,脚踏实地,暗无天日,登峰造极</strong><excerpt in="" index="" |="" 首页摘要=""><br>学习算法思想,修炼编程内功!</excerpt></p>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/算法学习/">算法学习</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/算法/">算法</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a   href="/2018/10/14/二分搜索树(Binary Seacher  Tree)/#more">查看更多 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-堆排序(heapSort)" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2018/10/13/堆排序(heapSort)/" class="article-date">
      <time datetime="2018-10-13T15:35:37.000Z" itemprop="datePublished">2018-10-13</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2018/10/13/堆排序(heapSort)/">堆排序(heapSort)</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <p> <strong>仰望星空,脚踏实地,暗无天日,登峰造极</strong><excerpt in="" index="" |="" 首页摘要=""><br>学习算法思想,修炼编程内功!</excerpt></p>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/算法学习/">算法学习</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/算法/">算法</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a   href="/2018/10/13/堆排序(heapSort)/#more">查看更多 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-堆的学习(Heap)" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2018/10/13/堆的学习(Heap)/" class="article-date">
      <time datetime="2018-10-13T14:35:37.000Z" itemprop="datePublished">2018-10-13</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2018/10/13/堆的学习(Heap)/">堆(Heap)</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <p> <strong>仰望星空,脚踏实地,暗无天日,登峰造极</strong><excerpt in="" index="" |="" 首页摘要=""><br>学习算法思想,修炼编程内功!</excerpt></p>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/算法学习/">算法学习</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/算法/">算法</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a   href="/2018/10/13/堆的学习(Heap)/#more">查看更多 >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  

</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2018 Arnold
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank">Hexo &nbsp;&nbsp;</a><a href="https://github.com/maochunguang" target="_blank">Blog</a> by tommy
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" >极客到访数: 
                            <span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>, </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit">本页阅读量: 
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>

    </div>
    
<script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>

<script src="/js/main.js"></script>

    <script>
        $(document).ready(function() {
            var backgroundnum = 1;
            var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
            $("#mobile-nav").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
            $(".left-col").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
        })
    </script>


<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'xxxxx', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->



	<script>
	var _hmt = _hmt || [];
	(function() {
	  var hm = document.createElement("script");
	  hm.src = "//hm.baidu.com/hm.js?xxxxxx";
	  var s = document.getElementsByTagName("script")[0]; 
	  s.parentNode.insertBefore(hm, s);
	})();
	</script>



<div class="scroll" id="scroll">
    <a href="#"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

  <script language="javascript">
    $(function() {
        $("a[title]").each(function() {
            var a = $(this);
            var title = a.attr('title');
            if (title == undefined || title == "") return;
            a.data('title', title).removeAttr('title').hover(
            function() {
                var offset = a.offset();
                $("<div id=\"anchortitlecontainer\"></div>").appendTo($("body")).html(title).css({
                    top: offset.top - a.outerHeight() - 15,
                    left: offset.left + a.outerWidth()/2 + 1
                }).fadeIn(function() {
                    var pop = $(this);
                    setTimeout(function() {
                        pop.remove();
                    }, pop.text().length * 800);
                });
            }, function() {
                $("#anchortitlecontainer").remove();
            });
        });
    });
</script>


  </div>
</body>
</html>